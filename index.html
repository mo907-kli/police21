<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø±Ø·Ø© | L.S.P.D</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-database-compat.js"></script>

    <style>
        :root {
            --bg-deep: #030509;
            --glass-bg: rgba(10, 15, 25, 0.6);
            --glass-border: rgba(255, 255, 255, 0.05);
            --btn-bg: rgba(20, 26, 40, 0.6);
            --btn-border: rgba(255, 255, 255, 0.05);
            --btn-hover: rgba(0, 234, 255, 0.05);
            --btn-hover-border: rgba(0, 234, 255, 0.3);
            --cyan: #00eaff;
            --cyan-glow: rgba(0, 234, 255, 0.5);
            --red: #ff3333;
            --green: #00ff6a;
            --yellow: #ffc107;
            --text-main: #ffffff;
            --font-ar: 'Tajawal', sans-serif;
            --font-en: 'Rajdhani', sans-serif;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; scroll-behavior: smooth; }
        body { user-select: none; background: radial-gradient(circle at center, #0a1120 0%, #030509 100%); color: var(--text-main); font-family: var(--font-ar); min-height: 100vh; display: flex; flex-direction: column; position: relative; overflow-y: auto; overflow-x: hidden; }
        input, textarea, select, .crypto-res, .task-table td, .allow-select, .allow-select * { user-select: text !important; }

        /* ğŸŸ¢ Ø§Ù„Ù†Ø¬ÙˆÙ… ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø·Ø¨Ù‚ØªÙ‡Ø§ Ù„ØªÙƒÙˆÙ† Ø®Ù„ÙÙŠØ© Ø«Ø§Ø¨ØªØ© ÙˆÙˆØ§Ø¶Ø­Ø© ğŸŸ¢ */
        #star-bg { position: fixed; inset: 0; z-index: 1; pointer-events: none; overflow: hidden; }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle linear infinite alternate; box-shadow: 0 0 5px rgba(0, 234, 255, 0.5); }
        @keyframes twinkle { 0% { opacity: 0.1; transform: scale(0.5); box-shadow: none; } 100% { opacity: 1; transform: scale(1.2); box-shadow: 0 0 8px rgba(0, 234, 255, 0.8); } }

        .central-logo-bg { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 450px; height: 450px; z-index: -1; opacity: 0.04; pointer-events: none; background-image: url('yyW7oBx.jpg'); background-size: cover; background-position: center; border-radius: 50%; clip-path: circle(47% at 50% 50%); }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideUpFade { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes popIn { 0% { opacity: 0; transform: scale(0.9); } 100% { opacity: 1; transform: scale(1); } }

        #imgZoomOverlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 9999999; display: none; justify-content: center; align-items: center; opacity: 0; transition: opacity 0.2s ease; cursor: zoom-out; backdrop-filter: blur(5px); }
        #imgZoomOverlay.active { opacity: 1; }
        #zoomedImg { max-width: 90vw; max-height: 90vh; border-radius: 8px; box-shadow: 0 0 30px rgba(0,234,255,0.4); border: 2px solid var(--cyan); transform: scale(0.8); transition: transform 0.2s ease; }
        #imgZoomOverlay.active #zoomedImg { transform: scale(1); }

        /* ØªØ¹Ø¯ÙŠÙ„ Ø·Ø¨Ù‚Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„ØªÙƒÙˆÙ† ÙÙˆÙ‚ Ø§Ù„Ù†Ø¬ÙˆÙ… Ù…Ø¨Ø§Ø´Ø±Ø© */
        #publicSite { position: relative; z-index: 2; display: flex; flex-direction: column; width: 100%; min-height: 100vh; transition: opacity 0.15s ease; }
        
        .public-nav { display: flex; justify-content: space-between; align-items: center; padding: 20px 80px; background: rgba(3, 5, 9, 0.95); border-bottom: 1px solid rgba(255,255,255,0.05); position: sticky; top: 0; z-index: 1000; backdrop-filter: blur(15px); }
        .nav-right { display: flex; align-items: center; gap: 40px; }
        .nav-logo { width: 45px; height: 45px; background: url('yyW7oBx.jpg') center/cover; border-radius: 50%; box-shadow: 0 0 10px rgba(0,234,255,0.3); border: 1px solid var(--cyan);}
        .nav-links { display: flex; gap: 30px; }
        .nav-links a { color: #8da2b5; text-decoration: none; font-size: 1.05rem; font-weight: bold; cursor: pointer; transition: 0.2s; user-select: none; }
        .nav-links a:hover, .nav-links a.active { color: #fff; text-shadow: 0 0 10px rgba(255,255,255,0.5); }
        .nav-left button { background: transparent; border: 1px solid var(--cyan); color: var(--cyan); padding: 10px 25px; border-radius: 4px; font-family: var(--font-ar); font-weight: bold; font-size: 1rem; cursor: pointer; transition: 0.2s; user-select: none; }
        .nav-left button:hover { background: var(--cyan); color: #000; box-shadow: 0 0 15px var(--cyan-glow); }

        #homeTab { display: flex; flex-direction: column; width: 100%; animation: fadeIn 0.3s ease; }
        #rulesTab, #jobsTab, #foundersTab { display: none; flex-direction: column; align-items: center; width: 100%; background: transparent; padding-bottom: 100px; animation: fadeIn 0.3s ease;}
        
        @keyframes cinematicZoom { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }
        
        .hero-section { display: flex; align-items: center; justify-content: center; position: relative; min-height: calc(100vh - 90px); width: 100%; overflow: hidden; }
        .hero-bg { position: absolute; inset: 0; z-index: 1; background-size: cover; background-position: center; animation: cinematicZoom 25s infinite alternate linear; }
        .hero-overlay { position: absolute; inset: 0; z-index: 2; background: linear-gradient(rgba(3, 5, 9, 0.8), rgba(3, 5, 9, 0.98)); }
        .hero-content { position: relative; z-index: 3; text-align: center; max-width: 800px; padding: 40px; }
        .hero-content h1 { font-size: 5rem; color: #fff; font-weight: 900; margin-bottom: 20px; text-shadow: 0 0 30px rgba(0,234,255,0.4); }
        .hero-content h1 span { color: var(--cyan); }
        .hero-content p { font-size: 1.25rem; color: #ccc; line-height: 1.8; margin-bottom: 40px; }
        .hero-btn { background: var(--cyan); border: none; color: #000; padding: 16px 45px; font-size: 1.2rem; font-weight: bold; border-radius: 6px; cursor: pointer; transition: 0.2s; font-family: var(--font-ar); box-shadow: 0 0 20px var(--cyan-glow); user-select: none;}
        .hero-btn:hover { background: #fff; transform: scale(1.05); }

        .community-section { width: 100%; padding: 80px 20px; text-align: center; border-top: 1px solid rgba(255,255,255,0.05); }
        .community-title { font-size: 3rem; color: #fff; font-weight: 800; margin-bottom: 20px; }
        .community-desc { color: #8da2b5; font-size: 1.15rem; line-height: 1.8; max-width: 800px; margin: 0 auto 60px auto; }
        .community-cards { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; max-width: 1200px; margin: 0 auto; }
        .comm-card { background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 8px; padding: 40px 30px; width: 350px; text-align: center; transition: 0.2s; display: flex; flex-direction: column; justify-content: space-between; align-items: center; }
        .comm-card:hover { border-color: rgba(0,234,255,0.3); transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,234,255,0.05); }
        .comm-icon { font-size: 3.5rem; color: var(--cyan); margin-bottom: 25px; opacity: 0.8; }
        .comm-card h3 { color: #fff; font-size: 1.6rem; font-weight: bold; margin-bottom: 15px; }
        .comm-card p { color: #888; font-size: 1rem; line-height: 1.7; margin-bottom: 30px; flex-grow: 1; }
        .comm-link { color: #fff; font-weight: bold; font-size: 1.1rem; cursor: pointer; text-decoration: none; transition: 0.2s; }
        .comm-link:hover { color: var(--cyan); }

        .animated-banner { position: relative; width: 100%; padding: 100px 20px; text-align: center; overflow: hidden; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .anim-bg { position: absolute; inset: 0; z-index: 1; background-size: cover; background-position: center; animation: cinematicZoom 25s infinite alternate ease-in-out; }
        .anim-overlay { position: absolute; inset: 0; z-index: 2; background: linear-gradient(rgba(3, 5, 9, 0.8), var(--bg-deep)); }
        .anim-content { position: relative; z-index: 3; }
        .anim-title { font-size: 3.5rem; color: #fff; font-weight: 800; margin-bottom: 15px; text-shadow: 0 0 20px rgba(0,234,255,0.4);}
        .anim-title span { color: var(--cyan); }
        .anim-subtitle { color: var(--cyan); font-size: 1.1rem; font-weight: bold; letter-spacing: 1px;}
        .anim-subtitle span { color: #888; margin: 0 10px; }

        .accordion-container { width: 100%; max-width: 900px; padding: 0 20px; margin-top: 40px;}
        .accordion-item { margin-bottom: 12px; border-radius: 6px; overflow: hidden; background: rgba(20, 26, 40, 0.4); border: 1px solid rgba(255,255,255,0.05); transition: 0.2s; backdrop-filter: blur(5px);}
        .accordion-item:hover { border-color: rgba(0, 234, 255, 0.3); }
        .accordion-header { display: flex; justify-content: space-between; align-items: center; padding: 20px 25px; cursor: pointer; transition: 0.2s; flex-direction: row-reverse; user-select: none;}
        .acc-title-box { display: flex; align-items: center; gap: 12px; flex-direction: row-reverse; }
        .acc-dot { width: 12px; height: 12px; background: #c2c2c2; border-radius: 50%; }
        .acc-title { font-size: 1.1rem; font-weight: bold; color: #fff; text-align: right; }
        .acc-icon { font-size: 1.5rem; color: var(--cyan); font-weight: 300; transition: transform 0.3s ease; }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; background: rgba(0, 0, 0, 0.3); }
        .accordion-inner { padding: 25px; border-top: 1px solid rgba(255,255,255,0.02); }
        .accordion-item.active .acc-icon { transform: rotate(45deg); color: #fff; }
        .rule-text { color: #d1d1d1; font-size: 1rem; line-height: 1.9; text-align: right; margin-bottom: 15px; }
        .rule-list { list-style: none; padding: 0; margin: 0 0 15px 0; text-align: right; }
        .rule-list li { position: relative; padding-right: 20px; margin-bottom: 10px; color: #d1d1d1; font-size: 1rem; line-height: 1.8; }
        .rule-list li::before { content: '-'; position: absolute; right: 0; top: 0; color: var(--red); font-weight: bold; }

        .jobs-content { width: 100%; max-width: 1000px; padding: 40px 20px; text-align: center; }
        .jobs-desc { color: #aaa; font-size: 1.1rem; line-height: 1.8; margin-bottom: 50px; max-width: 700px; margin-left: auto; margin-right: auto; }
        .jobs-cards-container { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
        .job-card { background: rgba(20, 26, 40, 0.4); border: 1px solid rgba(255,255,255,0.05); border-radius: 8px; padding: 30px; width: 350px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3); transition: 0.2s; }
        .job-card:hover { border-color: rgba(0,234,255,0.2); transform: translateY(-5px); }
        .job-card h3 { color: #fff; font-size: 1.5rem; font-weight: bold; margin-bottom: 15px; }
        .job-card p { color: #888; font-size: 1rem; line-height: 1.6; margin-bottom: 30px; }
        
        .job-btn-open { width: 100%; background: rgba(0, 255, 106, 0.1); border: 1px solid rgba(0, 255, 106, 0.3); color: var(--green); padding: 15px; border-radius: 6px; font-size: 1.1rem; font-weight: bold; cursor: pointer; text-align: center; font-family: var(--font-ar); transition: 0.2s; user-select: none;}
        .job-btn-open:hover { background: var(--green); color: #000; box-shadow: 0 0 15px rgba(0,255,106,0.3); }
        
        .job-btn-closed { width: 100%; background: rgba(255, 51, 51, 0.1); border: 1px solid rgba(255, 51, 51, 0.3); color: var(--red); padding: 15px; border-radius: 6px; font-size: 1.1rem; font-weight: bold; cursor: pointer; text-align: center; font-family: var(--font-ar); transition: 0.2s; user-select: none;}
        .job-btn-closed:hover { background: var(--red); color: #fff; box-shadow: 0 0 15px rgba(255,51,51,0.3); }

        .founders-grid { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; max-width: 1200px; padding: 40px 20px; width: 100%;}
        .founder-card { background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 12px; padding: 40px 20px; width: 320px; text-align: center; transition: 0.3s; position: relative; overflow: hidden; }
        .founder-card:hover { transform: translateY(-10px); border-color: var(--cyan); box-shadow: 0 15px 30px rgba(0,234,255,0.1); }
        .founder-card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 5px; background: linear-gradient(90deg, transparent, var(--cyan), transparent); opacity: 0; transition: 0.4s; }
        .founder-card:hover::before { opacity: 1; }
        .founder-img { width: 130px; height: 130px; border-radius: 50%; margin: 0 auto 25px; border: 3px solid var(--cyan); object-fit: cover; box-shadow: 0 0 25px rgba(0,234,255,0.2); padding: 5px; background: #000; }
        .founder-name { font-size: 1.8rem; color: #fff; font-weight: 800; margin-bottom: 5px; }
        .founder-rank { color: var(--cyan); font-size: 1.1rem; font-weight: bold; font-family: var(--font-en); letter-spacing: 1px; margin-bottom: 20px; }
        .founder-desc { color: #aaa; font-size: 0.95rem; line-height: 1.7; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 20px; }

        .modal-overlay { position: fixed; inset: 0; background: rgba(3, 5, 9, 0.95); z-index: 10005; display: none; justify-content: center; align-items: center; backdrop-filter: blur(10px); }
        .modal-box { width: 650px; padding: 40px; background: rgba(10, 15, 25, 0.98); border: 1px solid var(--cyan); border-radius: 12px; box-shadow: 0 10px 40px rgba(0,234,255,0.1); animation: popIn 0.2s ease-out; }
        
        #customAlertBox { width: 400px; text-align: center; border-color: var(--cyan); }
        .alert-icon { font-size: 4rem; color: var(--cyan); margin-bottom: 20px; text-shadow: 0 0 20px rgba(0,234,255,0.4); }
        .alert-title { color: #fff; font-size: 1.8rem; font-weight: bold; margin-bottom: 15px; }
        .alert-desc { color: #aaa; font-size: 1.1rem; line-height: 1.6; margin-bottom: 30px; white-space: pre-wrap; } 
        
        #loginScreen { position: fixed; inset: 0; background: rgba(3, 5, 9, 0.95); z-index: 99999; display: none; justify-content: center; align-items: center; backdrop-filter: blur(15px); transition: opacity 0.15s ease;}
        .login-container { width: 400px; padding: 40px; background: rgba(10, 15, 25, 0.98); border: 1px solid var(--cyan); border-radius: 12px; text-align: center; box-shadow: 0 10px 50px rgba(0,0,0,0.8); animation: slideUpFade 0.3s ease-out forwards; }
        .login-logo { width: 90px; height: 90px; margin: 0 auto 20px; background-image: url('yyW7oBx.jpg'); background-size: cover; border-radius: 50%; border: 2px solid var(--cyan); box-shadow: 0 0 20px var(--cyan-glow); }
        .login-title { font-size: 1.5rem; color: #fff; margin-bottom: 25px; font-weight: bold; letter-spacing: 1px;}
        .inp-group { position: relative; margin-bottom: 15px; }
        .inp-group i { position: absolute; top: 50%; transform: translateY(-50%); color: var(--cyan); opacity: 0.7; right: 15px; }
        .login-input { width: 100%; padding: 15px 45px; background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1); color: #fff; outline: none; border-radius: 4px; font-family: var(--font-ar); transition: 0.2s;}
        .login-input:focus { border-color: var(--cyan); background: rgba(0,234,255,0.05); }
        .login-btn { width: 100%; padding: 15px; margin-top: 10px; background: var(--cyan); border: none; color: #000; font-weight: bold; font-size: 1.2rem; border-radius: 4px; cursor: pointer; transition: 0.2s; font-family: var(--font-ar); user-select: none;}
        .login-btn:hover { background: #fff; box-shadow: 0 0 20px var(--cyan-glow); }
        .error-msg { color: var(--red); font-size: 0.9rem; margin-top: 15px; display: none; font-weight: bold; }
        .back-login-btn { background: transparent; border: none; color: #888; margin-top: 20px; cursor: pointer; font-family: var(--font-ar); text-decoration: underline; font-size: 0.95rem; transition: 0.2s; user-select: none;}
        .back-login-btn:hover { color: #fff; }

        /* ØªØ¹Ø¯ÙŠÙ„ Ø·Ø¨Ù‚Ø© Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
        #mainWrapper { position: fixed; inset: 0; z-index: 2; display: none; flex: 1; flex-direction: column; transition: opacity 0.15s ease; height: 100vh; overflow: hidden; background: transparent; }
        header { display: flex; justify-content: space-between; align-items: center; padding: 25px 40px; z-index: 10; border-bottom: 1px solid var(--glass-border); flex-shrink: 0; background: rgba(3,5,9,0.8); backdrop-filter: blur(10px);}
        .header-side { display: flex; gap: 10px; align-items: center; }
        .pill-btn { background: rgba(15, 20, 35, 0.6); border: 1px solid var(--btn-border); padding: 8px 18px; border-radius: 25px; color: #ccc; font-size: 0.85rem; font-weight: bold; display: flex; align-items: center; gap: 8px; cursor: pointer; transition: 0.2s; backdrop-filter: blur(5px); user-select: none; }
        .pill-btn:hover { background: rgba(255,255,255,0.05); border-color: rgba(255,255,255,0.3); color: #fff; }
        .sys-title { font-size: 1rem; font-weight: bold; color: #999; letter-spacing: 1px; }

        #dashboardView { flex: 1; display: flex; align-items: center; justify-content: center; padding-bottom: 60px; animation: fadeIn 0.3s ease; overflow-y: auto;}
        .main-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; width: 75%; max-width: 950px; margin: 0 auto; }
        .menu-btn { background: var(--btn-bg); border: 1px solid var(--btn-border); border-radius: 8px; padding: 22px 10px; text-align: center; color: #ddd; font-size: 1.05rem; font-weight: bold; cursor: pointer; transition: all 0.2s ease; backdrop-filter: blur(5px); user-select: none;}
        .menu-btn:hover { background: var(--btn-hover); border-color: var(--btn-hover-border); color: #fff; transform: translateY(-2px); box-shadow: 0 5px 20px rgba(0, 234, 255, 0.1); }

        .btn-acc { background: rgba(0, 255, 106, 0.15); color: var(--green); border: 1px solid var(--green); padding: 8px 20px; border-radius: 4px; cursor: pointer; font-weight: bold; transition: 0.2s; font-family: var(--font-ar); margin-left: 10px; user-select: none;}
        .btn-acc:hover { background: var(--green); color: #000; box-shadow: 0 0 15px rgba(0,255,106,0.4); }
        .btn-rej { background: rgba(255, 51, 51, 0.15); color: var(--red); border: 1px solid var(--red); padding: 8px 20px; border-radius: 4px; cursor: pointer; font-weight: bold; transition: 0.2s; font-family: var(--font-ar); user-select: none;}
        .btn-rej:hover { background: var(--red); color: #fff; box-shadow: 0 0 15px rgba(255,51,51,0.4); }
        .badge-status { padding: 6px 12px; border-radius: 4px; font-weight: bold; font-size: 0.9rem; border: 1px solid; }

        #moduleView { display: none; flex: 1; flex-direction: column; width: 85%; max-width: 1100px; margin: 0 auto; max-height: calc(100vh - 100px); padding-bottom: 20px; animation: slideUpFade 0.3s ease; }
        .module-header { flex-shrink: 0; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 15px; margin-top: 20px; margin-bottom: 20px; flex-direction: row-reverse; }
        .module-title { font-size: 1.5rem; color: var(--cyan); font-weight: bold; margin: 0; }
        .back-btn { background: rgba(10, 15, 25, 0.6); border: 1px solid var(--btn-border); color: #ccc; padding: 8px 20px; border-radius: 6px; cursor: pointer; transition: 0.2s; font-size: 0.95rem; font-family: var(--font-ar); font-weight:bold; backdrop-filter: blur(5px); user-select: none;}
        .back-btn:hover { background: rgba(255,255,255,0.05); border-color: #fff; color: #fff; }
        
        #dynamicContentArea { flex: 1; overflow-y: auto; margin-bottom: 20px; padding-right: 5px; }
        #dynamicContentArea::-webkit-scrollbar { width: 4px; } #dynamicContentArea::-webkit-scrollbar-thumb { background: var(--cyan); border-radius: 4px; }

        .input-section { flex-shrink: 0; background: rgba(10, 15, 25, 0.6); border: 1px solid var(--btn-border); padding: 20px; border-radius: 8px; backdrop-filter: blur(10px);}
        .gen-input { width: 100%; padding: 12px; background: rgba(0,0,0,0.6); border: 1px solid var(--btn-border); color: #fff; margin-bottom: 10px; border-radius: 6px; outline: none; transition: 0.2s; font-family: var(--font-ar); font-size: 0.95rem; text-align: right;}
        .gen-input:focus { border-color: var(--cyan); }
        select.gen-input { appearance: none; cursor: pointer; color: #888; } select.gen-input option { background: #000; color: #fff; }
        .grid-inputs { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 0; }
        .file-input-wrapper { position: relative; margin-bottom: 10px; border: 1px dashed var(--btn-border); border-radius: 6px; background: rgba(0,0,0,0.4); height: 50px; overflow: hidden; transition: 0.2s; }
        .file-input-wrapper:hover { border-color: var(--cyan); }
        .file-input-wrapper input[type="file"] { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer; z-index: 10; }
        .file-label-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #888; font-size: 0.95rem; pointer-events: none; width: 100%; text-align: center;}
        .submit-btn { width: 100%; padding: 12px; background: var(--cyan); border: none; font-weight: bold; font-size: 1.1rem; border-radius: 6px; cursor: pointer; color: #000; transition: 0.2s; font-family: var(--font-ar); user-select: none;}
        .submit-btn:hover { background: #fff; box-shadow: 0 0 15px var(--cyan-glow); }

        .rec-item { padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.03); display: flex; justify-content: space-between; align-items: center; color: #ddd; font-size: 0.95rem; background: rgba(20,26,40,0.6); border-radius: 6px; margin-bottom: 8px; border: 1px solid var(--btn-border); backdrop-filter: blur(5px);}
        .action-icon { cursor: pointer; margin: 0 5px; font-size: 1.1rem; transition: 0.2s; opacity: 0.8;}
        .action-icon:hover { transform: scale(1.2); opacity: 1; }
        .icon-del { color: var(--red); }
        
        .task-table { width: 100%; border-collapse: collapse; text-align: center; }
        .task-table th { background: rgba(0,234,255,0.03); color: var(--cyan); padding: 12px; border: 1px solid var(--btn-border); font-weight: bold; position: sticky; top: 0;}
        .task-table td { padding: 10px; border: 1px solid var(--btn-border); color: #ccc; }
        .badge-pending { background: rgba(255, 193, 7, 0.1); color: var(--yellow); padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; border: 1px solid var(--yellow);}
        .badge-approved { background: rgba(0, 255, 106, 0.1); color: var(--green); padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; border: 1px solid var(--green);}

        .video-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .video-card { background: rgba(0,0,0,0.6); border: 1px solid var(--btn-border); border-radius: 8px; padding: 10px; position: relative; backdrop-filter: blur(5px);}
        .video-player { width: 100%; aspect-ratio: 16/9; border-radius: 4px; border: 1px solid #111;}
        .del-video-btn { position: absolute; top: -10px; left: -10px; background: var(--red); color: #fff; border: none; border-radius: 50%; width: 28px; height: 28px; cursor: pointer; z-index: 10; display:flex; justify-content:center; align-items:center;}

        .crypto-area textarea { width: 100%; height: 100px; background: rgba(0,0,0,0.5); border: 1px solid var(--btn-border); border-radius: 4px; color: var(--cyan); padding: 10px; margin-bottom: 10px; outline: none; font-family: monospace; resize: none;}
        .crypto-res { background: rgba(0,0,0,0.5); border: 1px solid var(--btn-border); border-radius: 4px; padding: 15px; color: #fff; min-height: 50px; font-family: monospace; word-break: break-all; padding-inline-end: 45px; }
        .close-btn { width: 100%; background: transparent; border: 1px solid #333; color: #888; padding: 10px; margin-top: 5px; cursor: pointer; border-radius: 6px; transition: 0.2s; font-family: var(--font-ar); user-select: none;}
        .close-btn:hover { border-color: var(--red); color: var(--red); }
    </style>
</head>
<body id="appBody">

    <script src="config.js"></script>

    <div id="star-bg"></div>
    
    <div id="imgZoomOverlay" onclick="closeImgZoom()"><img id="zoomedImg" src=""></div>
    
    <div id="publicSite">
        <nav class="public-nav">
            <div class="nav-right">
                <div class="nav-logo"></div>
                <div class="nav-links">
                    <a id="nav-home" class="active" onclick="switchPublicTab('home', this)">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                    <a id="nav-rules" onclick="switchPublicTab('rules', this)">Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†</a>
                    <a id="nav-jobs" onclick="switchPublicTab('jobs', this)">ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„ÙˆØ¸Ø§Ø¦Ù</a>
                    <a id="nav-founders" onclick="switchPublicTab('founders', this)">Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ†</a>
                </div>
            </div>
            <div class="nav-left">
                <button onclick="openLoginScreen()">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</button>
            </div>
        </nav>

        <div id="homeTab">
            <div class="hero-section">
                <div class="hero-bg" style="background-image: url('https://cdn.discordapp.com/attachments/1079065638502404167/1476012249083678874/RsBi88I.gif?ex=699f9307&is=699e4187&hm=4c3c8fabb02c2b3b0ccb0848295c96e0216ca9e9a240358ce2c9008f1f412e23&');"></div>
                <div class="hero-overlay"></div>
                <div class="hero-content">
                    <h1>Ø¥Ø¯Ø§Ø±Ø© <span>Ø§Ù„Ø´Ø±Ø·Ø©</span></h1>
                    <p>Ø­ÙŠØ§ÙƒÙ… Ø§Ù„Ù„Ù‡ ÙÙŠ Ø³ÙŠØ±ÙØ± ØªØ§ÙŠØªÙ†Ø² Ø§Ù„Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„Ø±ÙˆÙ„ Ø¨Ù„Ø§ÙŠØŒ Ù†Ø­Ø§ÙˆÙ„ Ø¬Ø§Ù‡Ø¯ÙŠÙ† ØªÙ‚Ø¯ÙŠÙ… Ø£ÙØ¶Ù„ ØªØ¬Ø±Ø¨Ø© Ù„Ù„Ø±ÙˆÙ„ Ø¨Ù„Ø§ÙŠ ÙÙŠ Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø·. Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§ Ø§Ù„Ø¢Ù† ÙˆØ¹ÙŠØ´ Ø­ÙŠØ§ØªÙƒ ÙƒÙ…Ø§ ØªØ±ÙŠØ¯.</p>
                    <button class="hero-btn" onclick="switchPublicTab('jobs', document.getElementById('nav-jobs'))">Ù‚Ø¯Ù… Ø§Ù„Ø¢Ù†</button>
                </div>
            </div>
            <div class="community-section">
                <h2 class="community-title">Ù…Ø¬ØªÙ…Ø¹ ØªØ§ÙŠØªÙ†Ø²</h2>
                <p class="community-desc">Ù…Ø¬ØªÙ…Ø¹ Ø³ÙŠØ±ÙØ±Ù†Ø§ ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¨Ø·Ø±ÙŠÙ‚Ø© ØªÙØ§Ø¹Ù„ÙŠØ© Ù…Ù…ÙŠØ²Ø©ØŒ Ø­ÙŠØ« ÙŠØ´Ø§Ø±Ùƒ Ø§Ù„Ø¬Ù…ÙŠØ¹ ÙÙŠ Ø¨Ù†Ø§Ø¡ ØªØ¬Ø§Ø±Ø¨ Ù…Ù…ÙŠØ²Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ±.</p>
                <div class="community-cards">
                    <div class="comm-card">
                        <i class="fa-brands fa-discord comm-icon"></i>
                        <h3>Ø§ØªØµÙ„ Ø¨Ù†Ø§</h3>
                        <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø¬Ù…ÙŠØ¹ Ù…Ù†ØµØ§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ Ø³ÙˆØ§Ø¡ Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ Ø£Ùˆ Ø§Ù„ØªÙˆÙŠØªØ±.</p>
                        <a href="https://discord.gg/MxAgzKqchm" target="_blank" class="comm-link">Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</a>
                    </div>
                    <div class="comm-card">
                        <i class="fa-solid fa-scale-balanced comm-icon"></i>
                        <h3>Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†</h3>
                        <p>Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ØªÙ‡Ø¯Ù Ø¥Ù„Ù‰ Ø¶Ù…Ø§Ù† Ø§Ù„Ù…ØªØ¹Ø© ÙˆØ§Ù„Ø§Ø­ØªØ±Ø§Ù… Ø¨ÙŠÙ† Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†ØŒ Ù…Ø¹ ØªÙ†Ø¸ÙŠÙ… Ø³ÙŠØ± Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø¹Ø§Ø¯Ù„Ø© ÙˆØ´ÙØ§ÙØ©.</p>
                        <a onclick="switchPublicTab('rules', document.getElementById('nav-rules'))" class="comm-link">Ø§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†</a>
                    </div>
                    <div class="comm-card">
                        <i class="fa-solid fa-circle-info comm-icon"></i>
                        <h3>Ù…Ù† Ù†Ø­Ù†</h3>
                        <p>Ø³ÙŠØ±ÙØ± Ù…Ø®ØµØµ Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ø¹Ø±Ø¨ØŒ Ù†Ù‡Ø¯Ù Ù„ØªÙ‚Ø¯ÙŠÙ… ØªØ¬Ø±Ø¨Ø© Ù„Ø¹Ø¨ Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ© ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ø±ÙˆÙ„ Ø¨Ù„Ø§ÙŠ ÙˆÙˆØ§Ù‚Ø¹ÙŠØ© Ù„Ø§ Ù…Ø«ÙŠÙ„ Ù„Ù‡Ø§.</p>
                        <a href="#" class="comm-link">Ø§ÙƒØªØ´Ù Ø§Ù„Ù…Ø²ÙŠØ¯</a>
                    </div>
                </div>
            </div>
        </div>

        <div id="rulesTab">
            <div class="animated-banner">
                <div class="anim-bg" style="background-image: url('https://cdn.discordapp.com/attachments/1079065638502404167/1476008959059165265/iZe62uD.png?ex=699f8ff6&is=699e4e76&hm=9aea1f23775ddd66084de90b863e28cf1f76b267fd645739e20c749aece62cbd&');"></div>
                <div class="anim-overlay"></div>
                <div class="anim-content">
                    <h1 class="anim-title">Ø§Ù„Ø¯Ø³ØªÙˆØ± <span>ÙˆØ§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†</span></h1>
                    <div class="anim-subtitle">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© <span>></span> Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø¹Ø§Ù…Ø©</div>
                </div>
            </div>
            <div class="accordion-container">
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)"><div class="acc-title-box"><span class="acc-dot"></span><span class="acc-title">Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© - NLR</span></div><span class="acc-icon">+</span></div>
                    <div class="accordion-content"><div class="accordion-inner"><div class="rule-text">ÙÙŠ Ø­Ø§Ù„ Ø§ØºÙ…Ø§Ø¡Ùƒ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ÙƒÙ„Ø§Ù… Ø§Ùˆ Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ùˆ ÙØ¹Ù„ Ø£ÙŠ Ø´ÙŠØ¡ ÙÙŠ Ø­Ø§Ù„ ØªÙ… Ø§Ø³Ù‚Ø§Ø·Ùƒ Ù…Ù† Ù‚Ø¨Ù„ Ø´Ø®Øµ Ùˆ ØªÙ… Ø§Ù†Ø¹Ø§Ø´Ùƒ Ù…Ù† Ù‚Ø¨Ù„ Ù…Ø³Ø¹ÙÙŠÙ† ØªØ³ØªØ·ÙŠØ¹ ØªØ°ÙƒØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø­Ø¯Ø§Ø« ÙÙŠ Ø­Ø§Ù„ ØªÙ… Ø§Ø¹Ø·Ø§Ø¦Ùƒ Ø§Ø¨Ø±Ø© "ÙÙŠ Ø§Ù„Ø¹ÙŠØ§Ø¯Ø© Ø§Ù„Ø®Ø§ØµØ©" Ù…Ù† Ø§Ø­Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ù„Ø°ÙŠÙ† Ù„Ø¯ÙŠÙ‡Ù… Ø¹Ø¯Ø§ÙˆØ© Ù…Ø¹Ùƒ Ù„Ø§ ØªØ³ØªØ·ÙŠØ¹ ØªØ°ÙƒØ± Ø£ÙŠ Ø´ÙŠ Ø­ØµÙ„ Ù„Ùƒ ( Ù…Ù†Ù‡Ø§ Ø§Ù„Ø¹Ø¯Ø§ÙˆØ§Øª Ø§Ùˆ Ø§Ù„Ø§Ø­Ø¯Ø§Ø« )</div></div></div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)"><div class="acc-title-box"><span class="acc-dot"></span><span class="acc-title">Ø§Ù„Ø¨Ø§ÙˆØ± Ø¬ÙŠÙ…Ù†Ø¬ - PowerGaming</span></div><span class="acc-icon">+</span></div>
                    <div class="accordion-content"><div class="accordion-inner"><div class="rule-text">Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙˆØ³Ø§Ø¦Ù„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙŠØ²Ø© Ø£Ùˆ Ø¹Ø¯Ù… Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ø¹Ù‚ÙˆÙ„Ø© ÙˆØ¨Ø´ÙƒÙ„ ÙˆØ§Ù‚Ø¹ÙŠ ÙˆÙ…Ù†Ù‡Ø§ Ø§Ù„ØªØ§Ù„ÙŠ ÙˆÙ‡Ù†Ø§Ùƒ Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ù…ÙˆØ§Ù‚Ù ÙˆØ§Ù„Ø§Ù…Ø«Ù„Ø© Ø§Ù„ØªÙŠ ØªÙ†Ø¯Ø±Ø¬ ØªØ­Øª Powergaming</div></div></div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)"><div class="acc-title-box"><span class="acc-dot"></span><span class="acc-title">Ø§Ù„Ø®ÙˆÙ Ø¹Ù„Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© - NVL</span></div><span class="acc-icon">+</span></div>
                    <div class="accordion-content"><div class="accordion-inner"><div class="rule-text">Ø¹Ø¯Ù… Ø§Ù„Ø®ÙˆÙ Ø¨Ø´ÙƒÙ„ ÙˆØ§Ù‚Ø¹ÙŠ Ø¹Ù„Ù‰ Ø­ÙŠØ§ØªÙƒ Ø¹Ù†Ø¯Ù…Ø§ ØªØªØ¹Ø±Ø¶ Ù„Ù„ØªÙ‡Ø¯ÙŠØ¯ Ø¨Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø£Ùˆ Ø¨Ø£Ø°Ù‰ Ø´Ø¯ÙŠØ¯ Ù…Ù† ÙˆØ³Ø§Ø¦Ù„ Ø£Ø®Ø±Ù‰ ÙŠØ¹ØªØ¨Ø± Ø§Ù„Ø®ÙˆÙ Ø¹Ù„Ù‰ Ø§Ù„Ø­ÙŠØ§Ø© Ø´ÙŠ Ø§Ø³Ø§Ø³ÙŠ ÙˆÙ…Ù‡Ù… Ø¬Ø¯Ø§ Ù…Ø«Ø§Ù„ : Ø§Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø§Ø¯Ø§Ø© ØªØ¹Ø±Ø¶ Ø­ÙŠØ§ØªÙƒ Ù„Ù„Ø®Ø·Ø±</div></div></div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)"><div class="acc-title-box"><span class="acc-dot"></span><span class="acc-title">Ø§Ù„Ù…ÙŠØªØ§ Ø¬ÙŠÙ…Ù†Ø¬ Metagaming</span></div><span class="acc-icon">+</span></div>
                    <div class="accordion-content"><div class="accordion-inner"><div class="rule-text">Ø§ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø© ØªØ­ØµÙ„ Ø¹Ù„ÙŠÙ‡Ø§ Ù…Ù† Ø®Ø§Ø±Ø¬ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ù…Ø«Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø© Ø­ØµÙ„Øª Ø¹Ù„ÙŠÙ‡Ø§ Ù…Ù† Ø¨Ø« Ø§Ùˆ Ø¯Ø³ÙƒÙˆØ±Ø¯ Ø§Ùˆ Ù…Ù‚Ø·Ø¹ Ø¨Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ ÙƒÙ„Ù‡Ø§ ØªØ¹ØªØ¨Ø± Ù…Ø®Ø§Ù„ÙØ©</div></div></div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)"><div class="acc-title-box"><span class="acc-dot"></span><span class="acc-title">Ø§Ù„Ù‚ØªÙ„ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ - RDM</span></div><span class="acc-icon">+</span></div>
                    <div class="accordion-content"><div class="accordion-inner"><div class="rule-text">Ù‚ØªÙ„ Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø¯ÙˆÙ† Ø³Ø¨Ø¨, ØªÙ‡Ø¯ÙŠØ¯, Ø¨ØµÙˆØ±Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø§Ùˆ Ø¨Ø¯ÙˆÙ† Ø¹Ø¯Ø§ÙˆØ© ÙŠØ¹ØªØ¨Ø± Ø§Ù„Ù‚ØªÙ„ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù…Ù†ÙˆØ¹ ÙˆÙ…Ø®Ø§Ù„Ù Ù„Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ø§Ù… Ù„Ù„Ø³ÙŠØ±ÙØ±.</div></div></div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)"><div class="acc-title-box"><span class="acc-dot"></span><span class="acc-title">Ù‚Ø§Ù†ÙˆÙ† ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø­ÙŠØ§Ø© - NWL</span></div><span class="acc-icon">+</span></div>
                    <div class="accordion-content"><div class="accordion-inner"><div class="rule-text">Ù‡ÙŠ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø­ÙŠØ§ØªÙƒ ÙˆØ­ÙŠØ§Ø© Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†ØŒ ÙˆØ¹Ø¯Ù… Ø§Ù„ØªÙ‡ÙˆØ±ØŒ ÙˆØ£Ù† Ù„Ø§ ØªØ³ØªÙ‡ÙŠÙ† Ø¨Ù‚ØªÙ„ Ø§Ù„Ø£Ø´Ø®Ø§ØµØŒ ÙˆØ£Ù† Ù„Ø§ ØªÙ‚Ø§ÙˆÙ… Ø§Ù„Ù…Ø¬Ø±Ù… Ø£Ùˆ Ø§Ù„Ø´Ø±Ø·Ø© Ø§Ùˆ Ø§ÙŠ Ø´Ø®Øµ ÙŠØ­Ù…Ù„ Ø³Ù„Ø§Ø­ Ù…Ù‡Ù…Ø§ ÙƒØ§Ù† Ø®ØµÙˆØµØ§Ù‹ Ø§Ø°Ø§ ÙƒÙ†Øª Ø£Ø¹Ø²Ù„ØŒ ÙˆÙ‡Ø°Ø§ Ù„Ø§ ÙŠÙ…Ù†Ø¹ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ø­Ù‚ Ø§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„Ù†ÙØ³ Ø¹Ù†Ø¯ Ø§Ù„Ø¶Ø±ÙˆØ±Ø© Ø§Ù„ØªÙŠ ØªÙ…Ù†Ø¹Ùƒ Ù…Ù† Ø·Ù„Ø¨ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø´Ø±Ø·Ø©ØŒ ÙˆØ¨ÙƒÙ„ Ø§Ù„Ø£Ø­ÙˆØ§Ù„ ÙŠØ¬Ø¨ Ù…Ø­Ø§ÙˆØ±Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø¨Ø´ÙƒÙ„ Ø¬ÙŠØ¯ ÙˆØ§Ù„ØªÙØ§ÙˆØ¶ Ù…Ø¹Ù‡ Ù‚Ø¨Ù„ Ø§Ù„Ø´Ø±ÙˆØ¹ Ø¨Ø£ÙŠ Ø¹Ù…Ù„ ÙŠØ¹Ø±Ø¶ Ø­ÙŠØ§Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø¢Ø®Ø± Ù„Ù„Ø®Ø·Ø±.</div></div></div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <div class="acc-title-box"><span class="acc-dot" style="background:var(--cyan);"></span><span class="acc-title" style="color:var(--cyan);">Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø´Ø±Ø·Ø©</span></div><span class="acc-icon">+</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <strong style="color:var(--cyan); margin-bottom:10px; display:block; text-align:right;">Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ùˆ Ø§Ù„Ù…Ø¯Ø§Ù‡Ù…Ø©</strong>
                            <ul class="rule-list">
                                <li>ÙŠØ­Ù‚ Ù„Ù„Ø¶Ø§Ø¨Ø· ÙˆÙ…Ø§ ÙÙˆÙ‚ Ø¨Ø±ÙØ¹ Ø·Ù„Ø¨ Ø¥ÙŠÙ‚Ø§Ù Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù‰ Ø§Ù„Ù…Ø­ÙƒÙ…Ø© Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªÙ†ÙÙŠØ° Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø§ Ù…Ù† Ø®Ù„Ø§Ù„ Ø­ÙƒÙ… Ù…Ù† Ø§Ù„Ù…Ø­ÙƒÙ…Ø©.</li>
                                <li>ÙŠØªÙ… Ø·Ù„Ø¨ Ø§Ù„Ù…Ø¯Ø§Ù‡Ù…Ø© Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø¶Ø¨Ø§Ø· ÙˆÙ…Ø§ ÙÙˆÙ‚ ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ù…Ø¯Ø§Ù‡Ù…Ø© Ø£ÙŠ Ø´Ø®Øµ Ø§Ù„Ø§ Ù…Ù† Ø®Ù„Ø§Ù„ Ø£Ù…Ø± ØªÙ†ÙÙŠØ° Ù…Ù† Ø§Ù„Ù…Ø­ÙƒÙ…Ø©.</li>
                                <li>ÙÙŠ Ø­Ø§Ù„ Ø­Ø¯ÙˆØ« Ø£ÙŠ Ù…Ø®Ø§Ù„ÙÙ‡ Ø³ÙˆØ§Ø¡ Ø¨Ù€Ø§Ù„Ø±ÙˆÙ„ Ø¨Ù„Ø§ÙŠ Ø§Ùˆ Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø´Ø±Ø·Ø© Ø³ÙˆÙ ÙŠØªÙ… Ù…Ø­Ø§Ø³Ø¨Ø© Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø­Ø§Ù„Ø© ÙÙ‚Ø· ÙˆÙŠØªØ­Ù…Ù„ Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„Ø£ÙØ±Ø§Ø¯.</li>
                                <li>ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠ Ø¹Ø¯Ù… Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„Ø³Ù„Ø§Ø­ Ø§Ù„Ø§ Ø¨Ø¹Ø¯ Ø§Ù† ÙŠÙ‚ÙˆÙ… Ø§Ù„Ù…Ø¬Ø±Ù… Ø¨Ø£Ø®Ø±Ø¬ Ø§ÙŠ Ø³Ù„Ø§Ø­Ù‡.</li>
                            </ul>
                            <hr style="border-color:rgba(255,255,255,0.05); margin:20px 0;">
                            <strong style="color:var(--cyan); margin-bottom:10px; display:block; text-align:right;">Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø· ÙˆØ§Ù„ØªØµØ±ÙØ§Øª</strong>
                            <ul class="rule-list">
                                <li>ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø±Ø¬Ù„ Ø§Ù„Ø£Ù…Ù† Ù…Ù‡Ø°Ø¨ ØªØ¬Ø§Ù‡ Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ† ÙˆÙ…Ø¹ Ø²Ù…Ù„Ø§Ø¦Ù‡Ù… , ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù„Ø¨Ù‚Ø§Ù‹ ÙÙŠ Ø£Ø¯Ø§Ø¡ ÙˆØ§Ø¬Ø¨Ù‡ØŒ Ù…ØªØ­ÙƒÙ… ÙÙŠ Ø§Ø¹ØµØ§Ø¨Ù‡ ÙˆÙŠØªØ­Ù…Ù„ Ø£Ù‚ØµÙ‰ Ø¯Ø±Ø¬Ø§Øª Ø§Ù„ØµØ¨Ø± ÙˆØ§Ù„ØªÙ‚Ø¯ÙŠØ±.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="jobsTab">
            <div class="animated-banner">
                <div class="anim-bg" style="background-image: url('https://cdn.discordapp.com/attachments/1079065638502404167/1476017583965868125/r7HmhS8.png?ex=699f97ff&is=699e467f&hm=4a0cf538b021af11dc3c152918973e2e99ab8f167534686833498c4e8f799226&');"></div>
                <div class="anim-overlay"></div>
                <div class="anim-content">
                    <h1 class="anim-title">ÙˆØ¸Ø§Ø¦Ù <span>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</span></h1>
                    <div class="anim-subtitle">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© <span>></span> ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„ÙˆØ¸Ø§Ø¦Ù</div>
                </div>
            </div>
            <div class="jobs-content">
                <h2 class="community-title" style="margin-top: 20px; margin-bottom: 15px;">Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù</h2>
                <p class="community-desc">ÙŠÙ…ÙƒÙ†Ùƒ Ø·Ù„Ø¨ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØ§Ø­Ø© Ø¯Ø§Ø®Ù„ Ø³ÙŠØ±ÙØ±Ù†Ø§ ÙˆØ§Ù„ØªÙŠ ØªÙƒÙˆÙ† Ø¨Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø§Øª.</p>
                <div class="jobs-cards-container">
                    <div class="job-card">
                        <h3>Ø´Ø±Ø·Ø© ØªØ§ÙŠØªÙ†Ø²</h3>
                        <p>ØªÙ‚Ø¯ÙŠÙ… Ù…Ù†ØªØ³Ø¨ÙŠÙ† Ø´Ø±Ø·Ø© ØªØ§ÙŠØªÙ†Ø² (L.S.P.D)ØŒ Ù†Ù‡Ø¯Ù Ù„ØªÙ‚Ø¯ÙŠÙ… Ø£Ø¹Ù„Ù‰ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø£Ù…Ù†.</p>
                        <div id="btn-police-wrapper"><button class="job-btn-open" onclick="openAppModal()">ØªÙ‚Ø¯ÙŠÙ…</button></div>
                    </div>
                    <div class="job-card">
                        <h3>Ù‚Ø¯Ù… Ù†ÙØ³Ùƒ</h3>
                        <p>Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ù…Ù‡Ø§Ø±Ø§Øª ÙØ±ÙŠØ¯Ø©ØŸ Ù‚Ø¯Ù… Ù†ÙØ³Ùƒ Ù„Ù†Ø§ ÙˆØ§Ø±ÙÙ‚ Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ø°Ø§ØªÙŠØ© Ø£Ùˆ Ø£ÙŠ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¯Ø§Ø¹Ù…Ø©.</p>
                        <div id="btn-self-wrapper"><button class="job-btn-open" onclick="openSelfAppModal()">ØªÙ‚Ø¯ÙŠÙ…</button></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="foundersTab">
            <div class="animated-banner">
                <div class="anim-bg" style="background-image: url('https://cdn.discordapp.com/attachments/1079065638502404167/1476016754705567824/D25Todl.png?ex=699f9739&is=699e45b9&hm=629c4f435aa63b2a716d9561a40928a361e5186bc0997d08df660262272ba9bc&');"></div>
                <div class="anim-overlay"></div>
                <div class="anim-content">
                    <h1 class="anim-title">Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ† <span>Ø§Ù„Ø´Ø±Ø·Ø©</span></h1>
                    <div class="anim-subtitle">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© <span>></span> Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ†</div>
                </div>
            </div>
            <div class="founders-grid">
                <div class="founder-card">
                    <img src="https://cdn.discordapp.com/avatars/930773715845775362/cf12eb896c5713a1d561d1685f0f5110.webp?size=1024" class="founder-img">
                    <div class="founder-name">Ù…Ø­Ù…Ø¯ Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ</div>
                    <div class="founder-rank"> Minister of Interior </div>
                    <div class="founder-desc">Ù…Ø¹Ø§Ù„ÙŠ ÙˆØ²ÙŠØ± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©.</div>
                </div>
                <div class="founder-card">
                    <img src="https://cdn.discordapp.com/avatars/1103367015479128225/ecffe7e36c49df30cf6e9f008791ddd9.webp?size=1024" class="founder-img">
                    <div class="founder-name">Ø¹ÙˆØ¯Ù‡ Ø§Ù„Ø§Ø­Ù…Ø±ÙŠ</div>
                    <div class="founder-rank">Deputy Minister of Interior</div>
                    <div class="founder-desc">Ù…Ø¹Ø§Ù„ÙŠ Ù†Ø§Ø¦Ø¨ ÙˆØ²ÙŠØ± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©.</div>
                </div>
                <div class="founder-card">
                    <img src="https://cdn.discordapp.com/avatars/983458724247109682/931c3445771e3481589e2d9cbb9a44a0.webp?size=1024" class="founder-img">
                    <div class="founder-name">Ø§Ø­Ù…Ø¯ Ø§Ù„ÙÙ‡Ø¯</div>
                    <div class="founder-rank"> L.S.P.D Chief </div>
                    <div class="founder-desc">Ù…Ø¹Ø§Ù„ÙŠ Ø±Ø¦ÙŠØ³ Ø§Ù„Ø´Ø±Ø·Ø©.</div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="appModal">
        <div class="modal-box" style="width: 550px;">
            <h3 style="color:var(--cyan); margin-bottom:20px; font-size:1.5rem; text-align:center;">Ù†Ù…ÙˆØ°Ø¬ ØªÙ‚Ø¯ÙŠÙ… Ø´Ø±Ø·Ø© ØªØ§ÙŠØªÙ†Ø²</h3>
            <div style="color:#aaa; font-size:0.9rem; text-align:center; margin-bottom:20px;">ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¯Ù‚Ø© Ù„ØªØ³Ø±ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ© Ù‚Ø¨ÙˆÙ„Ùƒ</div>
            <div class="grid-inputs" style="grid-template-columns: 1fr;">
                <input type="text" id="appName" class="gen-input" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø´Ø®ØµÙŠ (Ø¯Ø§Ø®Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø©)" autocomplete="off">
                <input type="text" id="appDiscord" class="gen-input" placeholder="Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ (Discord ID)" autocomplete="off">
                <input type="number" id="appAge" class="gen-input" placeholder="Ø§Ù„Ø¹Ù…Ø± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ" autocomplete="off">
                <textarea id="appExp" class="gen-input" placeholder="Ø®Ø¨Ø±Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙÙŠ Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ©..." style="height: 80px; resize: none;"></textarea>
                <textarea id="appReason" class="gen-input" placeholder="Ù„Ù…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„Ø´Ø±Ø·Ø©ØŸ" style="height: 80px; resize: none;"></textarea>
            </div>
            <button class="submit-btn" onclick="submitApplication()" style="margin-top:10px;">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</button>
            <button class="close-btn" onclick="closeAppModal()">Ø¥Ù„ØºØ§Ø¡ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø©</button>
        </div>
    </div>

    <div class="modal-overlay" id="selfAppModal">
        <div class="modal-box" style="width: 550px;">
            <h3 style="color:var(--cyan); margin-bottom:20px; font-size:1.5rem; text-align:center;">Ù†Ù…ÙˆØ°Ø¬ "Ù‚Ø¯Ù… Ù†ÙØ³Ùƒ"</h3>
            <div style="color:#aaa; font-size:0.9rem; text-align:center; margin-bottom:20px;">Ø¹Ø±ÙÙ†Ø§ Ø¨Ù†ÙØ³Ùƒ ÙˆØ§Ø±ÙÙ‚ Ù…Ù„ÙØ§ØªÙƒ Ø§Ù„Ø¯Ø§Ø¹Ù…Ø©</div>
            <div class="grid-inputs" style="grid-template-columns: 1fr;">
                <input type="text" id="selfName" class="gen-input" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø´Ø®ØµÙŠ" autocomplete="off">
                <input type="text" id="selfDiscord" class="gen-input" placeholder="Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ (Discord ID)" autocomplete="off">
                <input type="number" id="selfAge" class="gen-input" placeholder="Ø§Ù„Ø¹Ù…Ø±" autocomplete="off">
                <textarea id="selfExp" class="gen-input" placeholder="Ø§Ù„Ø®Ø¨Ø±Ø§Øª ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª..." style="height: 80px; resize: none;"></textarea>
                <textarea id="selfReason" class="gen-input" placeholder="Ù„Ù…Ø§Ø°Ø§ ÙŠØ¬Ø¨ Ø£Ù† Ù†Ø®ØªØ§Ø±ÙƒØŸ" style="height: 80px; resize: none;"></textarea>
                <div class="file-input-wrapper">
                    <span id="self-file-name" class="file-label-text">Ø¥Ø±ÙØ§Ù‚ ØµÙˆØ±Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</span>
                    <input type="file" id="selfFile" accept="image/*" onchange="document.getElementById('self-file-name').innerText = this.files[0].name; document.getElementById('self-file-name').style.color = '#00eaff';">
                </div>
            </div>
            <button class="submit-btn" onclick="submitSelfApplication()" style="margin-top:10px;">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</button>
            <button class="close-btn" onclick="closeSelfAppModal()">Ø¥Ù„ØºØ§Ø¡ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø©</button>
        </div>
    </div>

    <div class="modal-overlay" id="customAlertOverlay">
        <div class="modal-box" id="customAlertBox">
            <i class="fa-solid fa-circle-check alert-icon"></i>
            <h3 class="alert-title" id="alertTitle">ØªÙ†Ø¨ÙŠÙ‡</h3>
            <p class="alert-desc" id="alertMessage">ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­</p>
            <button class="submit-btn" onclick="document.getElementById('customAlertOverlay').style.display='none'">Ø­Ø³Ù†Ø§Ù‹</button>
        </div>
    </div>

    <div id="loginScreen">
        <div class="login-container">
            <div class="login-logo"></div>
            <div class="login-title" id="loginTitleText">Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø±Ø·Ø©</div>
            <div class="inp-group">
                <i class="fa-solid fa-id-card"></i>
                <input type="text" id="userInput" class="login-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" autocomplete="off">
            </div>
            <div class="inp-group">
                <i class="fa-solid fa-key"></i>
                <input type="password" id="passInput" class="login-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" autocomplete="off">
            </div>
            <button class="login-btn" onclick="login()" id="loginBtnText">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            <div class="error-msg" id="loginError">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©</div>
            <button class="back-login-btn" onclick="closeLoginScreen()">Ø¥Ù„ØºØ§Ø¡ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ÙˆÙ‚Ø¹</button>
        </div>
    </div>

    <div id="mainWrapper">
        <div class="central-logo-bg"></div>
        <header>
            <div class="header-side">
                <div class="pill-btn" onclick="toggleLang()" id="langToggle">English</div>
                <div class="pill-btn" onclick="goHome()" title="Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"><i class="fa-solid fa-house"></i></div>
                <div class="pill-btn" onclick="logout()" title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬"><i class="fa-solid fa-user-xmark"></i></div>
            </div>
            <div class="sys-title" id="appTitleText">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø±Ø·Ø©</div>
            <div class="header-side" style="flex-direction: row-reverse;">
                <div class="pill-btn" title="Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ" style="color: #fff; cursor: default;">
                    <span id="rankNameDisp">--</span>
                    <i class="fa-solid fa-id-badge" style="margin-right: 5px; color: #888;"></i>
                </div>
            </div>
        </header>

        <div id="dashboardView">
            <div class="main-grid" id="modulesContainer"></div>
        </div>

        <div id="moduleView">
            <div class="module-header">
                <button class="back-btn" onclick="goHome()" id="btnBackText">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                <h2 class="module-title" id="mTitle">--</h2>
            </div>
            
            <div id="dynamicContentArea"></div>
            
            <div class="input-section" id="inputSectionBlock">
                <div id="mInputs"></div>
                <button class="submit-btn" id="submitBtn" onclick="addRecord()">Ø¥Ø¶Ø§ÙØ© / Ø­ÙØ¸ Ø§Ù„Ø³Ø¬Ù„</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="cryptoModal">
        <div class="modal-box">
            <h3 style="color:var(--cyan); margin-bottom:20px; font-size:1.5rem;" id="crypTitleText">Ù‚Ø³Ù… Ø§Ù„ØªØ´ÙÙŠØ±</h3>
            <div class="crypto-area">
                <textarea id="cryIn" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ..." autocomplete="off"></textarea>
                <div style="display:flex; gap:10px; margin-bottom:15px;">
                    <button class="submit-btn" onclick="doCrypto('enc')" style="margin:0" id="crypBtnEncText">ØªØ´ÙÙŠØ±</button>
                    <button class="submit-btn" onclick="doCrypto('dec')" style="margin:0; background:#fff; color:#000;" id="crypBtnDecText">ÙÙƒ ØªØ´ÙÙŠØ±</button>
                </div>
                <div style="position:relative;">
                    <div class="crypto-res allow-select" id="cryOut"></div>
                    <i class="fa-solid fa-copy" onclick="copyCrypto()" style="position: absolute; top: 50%; transform: translateY(-50%); left: 20px; color: var(--cyan); font-size: 1.3rem; cursor: pointer; transition: 0.3s;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='var(--cyan)'"></i>
                </div>
            </div>
            <button class="close-btn" onclick="document.getElementById('cryptoModal').style.display='none'" id="crypBtnCloseText">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <script>
        // ğŸŸ¢ ØªÙØ¹ÙŠÙ„ ÙˆØ¸ÙŠÙØ© ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù†Ø¬ÙˆÙ… Ù…Ø¨Ø§Ø´Ø±Ø© Ø£ÙˆÙ„ Ù…Ø§ ÙŠÙ‚Ø±Ø£ Ø§Ù„ÙƒÙˆØ¯ ğŸŸ¢
        function createStars() {
            const starBg = document.getElementById('star-bg');
            if(!starBg) return;
            starBg.innerHTML = '';
            for (let i = 0; i < 150; i++) {
                let star = document.createElement('div');
                star.className = 'star';
                let size = Math.random() * 3 + 1; 
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                star.style.left = Math.random() * 100 + 'vw';
                star.style.top = Math.random() * 100 + 'vh';
                star.style.animationDuration = (Math.random() * 3 + 2) + 's';
                star.style.animationDelay = (Math.random() * 5) + 's';
                starBg.appendChild(star);
            }
        }
        createStars(); // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¬ÙˆÙ… ÙÙˆØ±Ø§Ù‹

        // ğŸš¨ Ø±Ø¨Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Firebase ğŸš¨
        const firebaseConfig = {
            apiKey: "AIzaSyC5PL_fJEjiJVQS8rnx4m8j9uQNsILcQvs",
            authDomain: "police-depa.firebaseapp.com",
            databaseURL: "https://police-depa-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "police-depa",
            storageBucket: "police-depa.firebasestorage.app",
            messagingSenderId: "821123753086",
            appId: "1:821123753086:web:114d93838e23a6808b642f",
            measurementId: "G-ETS3VSYWHF"
        };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        const configOfficers = (typeof OfficerRanks !== 'undefined') ? OfficerRanks : ["Minister of Interior", "Police Commander", "L.S.P.D Chief", "Deputy L.S.P.D Chief", "Colonel", "Major", "Captain", "First Lieutenant", "Lieutenant"];
        const configEnlisted = (typeof EnlistedRanks !== 'undefined') ? EnlistedRanks : ["Warrant Officer", "Sergeant Major", "Sergeant", "Corporal", "Officer", "Cadet"];
        const SystemRanks = [...configOfficers, ...configEnlisted];
        let myRankIdx = 99; let canManageAccounts = false;

        const i18n = {
            ar: {
                login_title: "Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø±Ø·Ø©", login_ph_id: "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…", login_ph_pass: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±", login_btn: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„", login_err: "Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©", app_title: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø±Ø·Ø©", btn_add: "Ø¥Ø¶Ø§ÙØ© / Ø­ÙØ¸ Ø§Ù„Ø³Ø¬Ù„", btn_back: "Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
                m_set: "Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…", m_app: "Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…", m_rep: "Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±", m_cry: "Ù‚Ø³Ù… Ø§Ù„ØªØ´ÙÙŠØ±", m_box: "Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø£Ø³ÙˆØ¯", m_sav: "Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©", m_not: "Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©", m_map: "Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª", m_off: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª", m_wan: "Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ÙˆÙ†", m_tsk: "Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ù†Ù‚Ø§Ø·", m_gng: "Ù‚Ø³Ù… Ø§Ù„Ø¹ØµØ§Ø¨Ø§Øª", m_vid: "Ù‚Ø³Ù… Ø§Ù„ÙÙŠØ¯ÙŠÙˆ", m_arm: "Ù…Ø³ØªÙˆØ¯Ø¹ Ø§Ù„Ø£Ø³Ù„Ø­Ø©",
                o_user: "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…", o_pass: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±", o_name: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„", o_rank: "Ø§Ø®ØªØ± Ø§Ù„Ø±ØªØ¨Ø©", o_err: "ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„", o_exists: "Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹", o_no_perm: "Ù„Ø§ ØªÙ…Ù„Ùƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©",
                th_officer: "Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„", th_assignee: "Ø§Ù„Ù…Ø³ØªÙ„Ù…", th_pts: "Ø§Ù„Ù†Ù‚Ø§Ø·", th_reason: "Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ù…ÙˆÙƒÙ„Ø©", th_status: "Ø§Ù„Ø­Ø§Ù„Ø©", th_act: "Ø¥Ø¬Ø±Ø§Ø¡", st_pend: "Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±", st_appr: "Ù…Ø¹ØªÙ…Ø¯Ø© âœ”ï¸",
                v_title: "Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ", v_yt: "Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨", v_or: "Ø£Ùˆ Ù…Ù„Ù", r_name: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„", r_badge: "Ø§Ù„Ø¨Ø§Ø¯Ø¬ Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠ", r_crim: "Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±", r_det: "Ø§ÙƒØªØ¨ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù‡Ù†Ø§...",
                cryp_title: "Ù‚Ø³Ù… Ø§Ù„ØªØ´ÙÙŠØ±", cryp_ph: "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ...", cryp_btn_enc: "ØªØ´ÙÙŠØ±", cryp_btn_dec: "ÙÙƒ ØªØ´ÙÙŠØ±", btn_close: "Ø¥ØºÙ„Ø§Ù‚"
            },
            en: {
                login_title: "SYSTEM LOGIN", login_ph_id: "USERNAME", login_ph_pass: "PASSWORD", login_btn: "LOGIN", login_err: "INVALID CREDENTIALS", app_title: "POLICE DEPARTMENT", btn_add: "SUBMIT", btn_back: "BACK TO MAIN",
                m_set: "App Settings", m_app: "Applications", m_rep: "Reports", m_cry: "Crypto Dept", m_box: "Black Box", m_sav: "Saved Reports", m_not: "Command Notes", m_map: "Ops Maps", m_off: "Accounts MGT", m_wan: "Wanted", m_tsk: "Tasks & Points", m_gng: "Gangs", m_vid: "Video Dept", m_arm: "Armory",
                o_user: "User", o_pass: "Pass", o_name: "Name", o_rank: "Rank", o_err: "Fill fields", o_exists: "User exists", o_no_perm: "No permission",
                th_officer: "Officer", th_assignee: "Assignee", th_pts: "Points", th_reason: "Task", th_status: "Status", th_act: "Act", st_pend: "Pending", st_appr: "Approved",
                v_title: "Video Title", v_yt: "YT Link", v_or: "OR File", r_name: "Name", r_badge: "Badge", r_crim: "Report Type", r_det: "Type report here...",
                cryp_title: "Crypto Dept", cryp_ph: "Input text...", cryp_btn_enc: "Encrypt", cryp_btn_dec: "Decrypt", btn_close: "Close"
            }
        };

        const modules = [
            { id: 'settings', i18n_t: 'm_set', isSettingsView: true },
            { id: 'applications', i18n_t: 'm_app', isAppsView: true },
            { id: 'reports', i18n_t: 'm_rep', isReportForm: true },
            { id: 'crypto', i18n_t: 'm_cry', isCrypto: true },
            { id: 'blackbox', i18n_t: 'm_box', inputsAr: ['Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„', 'ÙƒÙˆØ¯ Ø§Ù„ÙˆØµÙˆÙ„'], inputsEn: ['Record ID', 'Access Code'] },
            { id: 'tasks', i18n_t: 'm_tsk', isTable: true },
            { id: 'notes', i18n_t: 'm_not', inputsAr: ['Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹', 'Ø§Ù„Ù†Øµ'], inputsEn: ['Subject', 'Body'] },
            { id: 'maps', i18n_t: 'm_map', hasImage: true, inputsAr: ['Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª', 'Ø§Ù„Ù…Ù†Ø·Ù‚Ø©'], inputsEn: ['Coords', 'Zone'] },
            { id: 'video', i18n_t: 'm_vid', isVideo: true },
            { id: 'wanted', i18n_t: 'm_wan', hasImage: true, inputsAr: ['Ø§Ø³Ù… Ø§Ù„Ù‡Ø¯Ù', 'Ø§Ù„ØªÙ‡Ù…Ø©', 'Ø§Ù„Ø®Ø·ÙˆØ±Ø©'], inputsEn: ['Name', 'Crime', 'Risk'] },
            { id: 'saved', i18n_t: 'm_sav', inputsAr: ['Ø±Ù‚Ù… Ø§Ù„ØªÙ‚Ø±ÙŠØ±', 'Ø§Ù„ØªØµÙ†ÙŠÙ'], inputsEn: ['Report ID', 'Class'] },
            { id: 'armory', i18n_t: 'm_arm', inputsAr: ['Ù†ÙˆØ¹ Ø§Ù„Ø³Ù„Ø§Ø­', 'Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ', 'Ø§Ù„Ù…Ø³ØªÙ„Ù…'], inputsEn: ['Weapon Type', 'Serial No', 'Assignee'] },
            { id: 'officials', i18n_t: 'm_off', isAccountsForm: true },
            { id: 'gangs', i18n_t: 'm_gng', inputsAr: ['Ø§Ù„Ø§Ø³Ù…', 'Ø§Ù„Ù†Ø´Ø§Ø·'], inputsEn: ['Name', 'Activity'] }
        ];

        let currentLang = 'ar'; let currentModule = null;
        let db = { applications: [], reports: [], wanted: [], maps: [], officials: [], tasks: [], video: [], gangs: [], armory: [], notes: [], saved: [], blackbox: [], crypto: [], customUsers: [], settings: { policeOpen: true, selfOpen: true } };

        database.ref('lspd_db').on('value', (snapshot) => {
            const data = snapshot.val();
            if (data) {
                db.applications = data.applications || [];
                db.reports = data.reports || [];
                db.tasks = data.tasks || [];
                db.wanted = data.wanted || [];
                db.maps = data.maps || [];
                db.officials = data.officials || [];
                db.video = data.video || [];
                db.gangs = data.gangs || [];
                db.armory = data.armory || [];
                db.notes = data.notes || [];
                db.saved = data.saved || [];
                db.blackbox = data.blackbox || [];
                db.crypto = data.crypto || [];
                db.customUsers = data.customUsers || [];
                db.settings = data.settings || { policeOpen: true, selfOpen: true };
            }
            updatePublicJobButtons();
            if (currentModule && document.getElementById('moduleView').style.display === 'flex') {
                if(currentModule.id === 'settings') renderSettingsView();
                else openMod(currentModule.id);
            }
        });

        function saveDB() { database.ref('lspd_db').set(db); }

        window.onload = () => { applyLanguage(); updatePublicJobButtons(); };

        function updatePublicJobButtons() {
            const pWrap = document.getElementById('btn-police-wrapper');
            const sWrap = document.getElementById('btn-self-wrapper');
            if(pWrap) {
                if(db.settings && db.settings.policeOpen) pWrap.innerHTML = `<button class="job-btn-open" onclick="openAppModal()">ØªÙ‚Ø¯ÙŠÙ…</button>`;
                else pWrap.innerHTML = `<button class="job-btn-closed" onclick="showCustomAlert('Ø¹Ø°Ø±Ø§Ù‹', 'Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ù„Ø´Ø±Ø·Ø© ØªØ§ÙŠØªÙ†Ø² Ù…ØºÙ„Ù‚ Ø­Ø§Ù„ÙŠØ§Ù‹ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.')">Ù…ØºÙ„Ù‚ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</button>`;
            }
            if(sWrap) {
                if(db.settings && db.settings.selfOpen) sWrap.innerHTML = `<button class="job-btn-open" onclick="openSelfAppModal()">ØªÙ‚Ø¯ÙŠÙ…</button>`;
                else sWrap.innerHTML = `<button class="job-btn-closed" onclick="showCustomAlert('Ø¹Ø°Ø±Ø§Ù‹', 'Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ù„Ù‚Ø¯Ù… Ù†ÙØ³Ùƒ Ù…ØºÙ„Ù‚ Ø­Ø§Ù„ÙŠØ§Ù‹ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.')">Ù…ØºÙ„Ù‚ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</button>`;
            }
        }

        function applyLanguage() {
            const t = i18n[currentLang];
            document.getElementById('appBody').setAttribute('dir', currentLang === 'ar' ? 'rtl' : 'ltr');
            document.getElementById('appBody').style.fontFamily = currentLang === 'ar' ? 'var(--font-ar)' : 'var(--font-en)';
            document.getElementById('langToggle').innerText = currentLang === 'ar' ? 'English' : 'Ø¹Ø±Ø¨ÙŠ';
            
            document.getElementById('loginTitleText').innerText = t.login_title;
            document.getElementById('userInput').placeholder = t.login_ph_id;
            document.getElementById('passInput').placeholder = t.login_ph_pass;
            document.getElementById('loginBtnText').innerText = t.login_btn;
            document.getElementById('loginError').innerText = t.login_err;
            document.getElementById('appTitleText').innerText = t.app_title;
            document.getElementById('btnBackText').innerText = t.btn_back;
            if(document.getElementById('submitBtn')) document.getElementById('submitBtn').innerText = t.btn_add;
            document.getElementById('crypTitleText').innerText = t.cryp_title;
            document.getElementById('cryIn').placeholder = t.cryp_ph;
            document.getElementById('crypBtnEncText').innerText = t.cryp_btn_enc;
            document.getElementById('crypBtnDecText').innerText = t.cryp_btn_dec;
            document.getElementById('crypBtnCloseText').innerText = t.btn_close;

            if(document.getElementById('modulesContainer').innerHTML !== '') renderModules();
        }

        function toggleLang() { currentLang = currentLang === 'ar' ? 'en' : 'ar'; applyLanguage(); if(currentModule && document.getElementById('moduleView').style.display === 'flex') openMod(currentModule.id); }

        function login() {
            const u = document.getElementById('userInput').value.trim(); const p = document.getElementById('passInput').value.trim();
            let configU = (typeof ConfigUsers !== 'undefined') ? ConfigUsers : []; 
            let allUsers = [...configU, ...(db.customUsers || [])];
            let foundUser = allUsers.find(x => x.user === u && x.pass === p);
            
            if(foundUser) {
                const ls = document.getElementById('loginScreen'); ls.style.opacity = '0';
                setTimeout(() => {
                    ls.style.display = 'none'; document.getElementById('mainWrapper').style.display = 'flex';
                    document.getElementById('rankNameDisp').innerText = foundUser.name; 
                    myRankIdx = SystemRanks.indexOf(foundUser.rank); if(myRankIdx === -1) myRankIdx = SystemRanks.length - 1; 
                    isOfficer = true; canManageAccounts = configOfficers.includes(foundUser.rank); isHighCommand = (myRankIdx >= 0 && myRankIdx <= 8); 
                    renderModules();
                }, 100);
            } else { document.getElementById('loginError').style.display = 'block'; }
        }

        function logout() { location.reload(); }
        function goHome() { document.getElementById('moduleView').style.display = 'none'; document.getElementById('dashboardView').style.display = 'flex'; }

        function renderModules() {
            const c = document.getElementById('modulesContainer'); c.innerHTML = ''; 
            modules.forEach((m, idx) => { c.innerHTML += `<div class="menu-btn" onclick="openMod('${m.id}')" style="animation-delay:${idx*0.05}s">${i18n[currentLang][m.i18n_t]}</div>`; });
        }

        function openMod(id) {
            currentModule = modules.find(m => m.id === id);
            if(currentModule.isCrypto) { document.getElementById('cryptoModal').style.display = 'flex'; return; }
            
            document.getElementById('dashboardView').style.display = 'none'; 
            document.getElementById('moduleView').style.display = 'flex';
            document.getElementById('mTitle').innerText = i18n[currentLang][currentModule.i18n_t];
            
            const dynamicArea = document.getElementById('dynamicContentArea');
            const inpArea = document.getElementById('mInputs');
            const submitBtn = document.getElementById('submitBtn');
            const inputBlock = document.getElementById('inputSectionBlock');
            const t = i18n[currentLang];
            
            if(inputBlock) inputBlock.style.display = 'block';

            if(currentModule.isSettingsView) {
                dynamicArea.innerHTML = `<div id="settingsContainer"></div>`;
                if(inputBlock) inputBlock.style.display = 'none'; 
                renderSettingsView();
            }
            else if(currentModule.isAppsView) {
                dynamicArea.innerHTML = `<div id="appsContainer"></div>`;
                if(inputBlock) inputBlock.style.display = 'none'; 
                renderApplications();
            }
            else if(currentModule.isAccountsForm) {
                dynamicArea.innerHTML = `<div id="mList"></div>`;
                if(canManageAccounts) { 
                    let rankOptions = ''; SystemRanks.forEach((r, idx) => { if(idx > myRankIdx) rankOptions += `<option value="${r}">${r}</option>`; });
                    submitBtn.style.display = 'block'; inpArea.innerHTML = `<div class="grid-inputs"><input type="text" id="o-user" class="gen-input" placeholder="${t.o_user}" autocomplete="off"><input type="password" id="o-pass" class="gen-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" autocomplete="off"><input type="text" id="o-name" class="gen-input" placeholder="${t.o_name}" autocomplete="off"><select id="o-rank" class="gen-input"><option value="" disabled selected>${t.o_rank}</option>${rankOptions}</select></div>`;
                } else { submitBtn.style.display = 'none'; inpArea.innerHTML = `<div style="color:var(--yellow); text-align:center; padding:15px; border:1px solid rgba(255,193,7,0.3); border-radius:4px; margin-bottom:10px; background:rgba(255,193,7,0.1);">${t.o_no_perm}</div>`; }
                renderAccounts();
            } else if(currentModule.isReportForm) {
                dynamicArea.innerHTML = `<div id="mList"></div>`; submitBtn.style.display = 'block';
                inpArea.innerHTML = `<div class="grid-inputs"><input type="text" id="r-badge" class="gen-input" placeholder="${t.r_badge}"><input type="text" id="r-name" class="gen-input" placeholder="${t.r_name}"></div><input type="text" id="r-crim" class="gen-input" placeholder="${t.r_crim}"><textarea id="r-details" class="gen-input" placeholder="${t.r_det}" style="height:100px; resize:vertical;"></textarea><div class="file-input-wrapper"><span id="file-count" class="file-label-text">Ø¥Ø±ÙØ§Ù‚ Ù…Ù„ÙØ§Øª</span><input type="file" id="r-image" multiple onchange="document.getElementById('file-count').innerText = this.files.length > 0 ? 'âœ”ï¸ ØªÙ… ØªØ­Ø¯ÙŠØ¯ (' + this.files.length + ') Ù…Ù„ÙØ§Øª' : 'Ø¥Ø±ÙØ§Ù‚ Ù…Ù„ÙØ§Øª'"></div>`;
                renderRecords();
            } else if(currentModule.isVideo) {
                dynamicArea.innerHTML = `<div class="video-grid" id="videoGridContainer"></div>`; submitBtn.style.display = 'block';
                inpArea.innerHTML = `<input type="text" id="v-title" class="gen-input" placeholder="${t.v_title}"><input type="text" id="v-yt" class="gen-input" placeholder="${t.v_yt}"><div class="file-input-wrapper"><span id="v-file-name" class="file-label-text">${t.v_or}</span><input type="file" id="v-file" accept="video/mp4,video/webm,video/*" onchange="document.getElementById('v-file-name').innerText = this.files[0].name; document.getElementById('v-file-name').style.color = '#00eaff';"></div>`;
                renderVideoGrid();
            } else if(currentModule.isTable) {
                dynamicArea.innerHTML = `<div id="tasksTableContainer"></div>`; submitBtn.style.display = 'block';
                inpArea.innerHTML = `<div class="grid-inputs"><input type="text" id="t-assignee" class="gen-input" placeholder="${t.th_assignee}"><input type="text" id="t-officer" class="gen-input" placeholder="${t.th_officer}"><input type="text" id="t-reason" class="gen-input" placeholder="${t.th_reason}"><input type="number" id="t-pts" class="gen-input" placeholder="${t.th_pts}"></div>`;
                renderTasksTable();
            } else {
                submitBtn.style.display = 'block'; dynamicArea.innerHTML = `<div id="mList"></div>`; inpArea.innerHTML = '';
                const arr = currentLang === 'ar' ? currentModule.inputsAr : currentModule.inputsEn;
                if(arr) { arr.forEach((ph, i) => { inpArea.innerHTML += `<input type="text" id="inp-${i}" class="gen-input" placeholder="${ph}" autocomplete="off">`; }); }
                if(currentModule.hasImage) inpArea.innerHTML += `<div class="file-input-wrapper"><span id="img-file-name" class="file-label-text">Ø¥Ø±ÙØ§Ù‚ ØµÙˆØ±Ø©</span><input type="file" id="inp-image" accept="image/*" onchange="document.getElementById('img-file-name').innerText = this.files[0].name; document.getElementById('img-file-name').style.color = '#00eaff';"></div>`;
                renderRecords();
            }
        }

        function renderSettingsView() {
            const container = document.getElementById('settingsContainer');
            if(!container) return;
            
            let pOpen = db.settings ? db.settings.policeOpen : true;
            let sOpen = db.settings ? db.settings.selfOpen : true;
            
            let pStatusText = pOpen ? '<span style="color:var(--green); font-weight:bold;">Ù…ÙØªÙˆØ­ ğŸŸ¢</span>' : '<span style="color:var(--red); font-weight:bold;">Ù…ØºÙ„Ù‚ ğŸ”´</span>';
            let sStatusText = sOpen ? '<span style="color:var(--green); font-weight:bold;">Ù…ÙØªÙˆØ­ ğŸŸ¢</span>' : '<span style="color:var(--red); font-weight:bold;">Ù…ØºÙ„Ù‚ ğŸ”´</span>';

            let toggleBtns = isHighCommand ? `
                <div style="display:flex; justify-content:center; gap:20px; margin-top:20px; flex-wrap:wrap;">
                    <button class="submit-btn" onclick="toggleAppStatus('police')" style="width:250px; cursor:pointer;">ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© (Ø´Ø±Ø·Ø© ØªØ§ÙŠØªÙ†Ø²)</button>
                    <button class="submit-btn" onclick="toggleAppStatus('self')" style="width:250px; cursor:pointer;">ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© (Ù‚Ø¯Ù… Ù†ÙØ³Ùƒ)</button>
                </div>
            ` : `<div style="color:var(--yellow); margin-top:20px; text-align:center; font-weight:bold;">Ù„Ø§ ØªÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©</div>`;

            container.innerHTML = `
                <div style="background:rgba(20,26,40,0.6); border:1px solid var(--btn-border); border-radius:8px; padding:40px; text-align:center; margin-top: 30px; backdrop-filter: blur(5px);">
                    <h3 style="color:var(--cyan); margin-bottom:30px; font-size:1.8rem;">Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</h3>
                    <div style="font-size: 1.3rem; margin-bottom: 15px; color: #fff; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.05); display:flex; justify-content:space-between;">
                        <span>ØªÙ‚Ø¯ÙŠÙ… (Ø´Ø±Ø·Ø© ØªØ§ÙŠØªÙ†Ø²) Ø­Ø§Ù„ÙŠØ§Ù‹:</span> <span>${pStatusText}</span>
                    </div>
                    <div style="font-size: 1.3rem; margin-bottom: 25px; color: #fff; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.05); display:flex; justify-content:space-between;">
                        <span>ØªÙ‚Ø¯ÙŠÙ… (Ù‚Ø¯Ù… Ù†ÙØ³Ùƒ) Ø­Ø§Ù„ÙŠØ§Ù‹:</span> <span>${sStatusText}</span>
                    </div>
                    ${toggleBtns}
                </div>
            `;
        }

        function toggleAppStatus(type) {
            if(!isHighCommand) return;
            if(!db.settings) db.settings = { policeOpen: true, selfOpen: true };
            if(type === 'police') {
                db.settings.policeOpen = !db.settings.policeOpen;
                saveDB(); showCustomAlert("Ù†Ø¬Ø§Ø­", db.settings.policeOpen ? "ØªÙ… ÙØªØ­ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… (Ø´Ø±Ø·Ø© ØªØ§ÙŠØªÙ†Ø²) Ø¨Ù†Ø¬Ø§Ø­!" : "ØªÙ… Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… (Ø´Ø±Ø·Ø© ØªØ§ÙŠØªÙ†Ø²) Ø¨Ù†Ø¬Ø§Ø­!");
            } else if(type === 'self') {
                db.settings.selfOpen = !db.settings.selfOpen;
                saveDB(); showCustomAlert("Ù†Ø¬Ø§Ø­", db.settings.selfOpen ? "ØªÙ… ÙØªØ­ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… (Ù‚Ø¯Ù… Ù†ÙØ³Ùƒ) Ø¨Ù†Ø¬Ø§Ø­!" : "ØªÙ… Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… (Ù‚Ø¯Ù… Ù†ÙØ³Ùƒ) Ø¨Ù†Ø¬Ø§Ø­!");
            }
        }

        function renderApplications() {
            const container = document.getElementById('appsContainer'); if(!container) return; container.innerHTML = '';
            if(!db.applications || db.applications.length === 0) { container.innerHTML = `<div style="text-align:center; color:#888; padding:30px; font-size:1.1rem;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª ØªÙ‚Ø¯ÙŠÙ… Ø­Ø§Ù„ÙŠØ§Ù‹.</div>`; return; }
            
            [...db.applications].reverse().forEach((app, reverseIdx) => {
                const idx = db.applications.length - 1 - reverseIdx; 
                const delBtn = canManageAccounts ? `<i class="fa-solid fa-trash action-icon icon-del" style="cursor:pointer; color:var(--red); position:absolute; top:20px; left:20px;" onclick="deleteApp(${idx})" title="Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨"></i>` : '';
                
                let statusHtml = '';
                if (app.status === 'accepted') { statusHtml = `<span class="badge-status" style="color:var(--green); border-color:var(--green); background:rgba(0,255,106,0.1);">ØªÙ… Ø§Ù„Ù‚Ø¨ÙˆÙ„ âœ”ï¸</span>`; } 
                else if (app.status === 'rejected') { statusHtml = `<span class="badge-status" style="color:var(--red); border-color:var(--red); background:rgba(255,51,51,0.1);">Ù…Ø±ÙÙˆØ¶ âŒ</span>`; } 
                else {
                    if (isHighCommand || isOfficer) { statusHtml = `<button class="btn-acc" onclick="updateAppStatus(${idx}, 'accepted')">Ù‚Ø¨ÙˆÙ„</button><button class="btn-rej" onclick="updateAppStatus(${idx}, 'rejected')">Ø±ÙØ¶</button>`; } 
                    else { statusHtml = `<span class="badge-status" style="color:var(--yellow); border-color:var(--yellow); background:rgba(255,193,7,0.1);">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© â³</span>`; }
                }

                let appTypeTitle = app.type === 'self' ? 'ØªÙ‚Ø¯ÙŠÙ… "Ù‚Ø¯Ù… Ù†ÙØ³Ùƒ"' : 'ØªÙ‚Ø¯ÙŠÙ… Ø´Ø±Ø·Ø©';
                
                let fileHtml = '';
                if(app.file) {
                    if(app.file.data.startsWith('data:image')) {
                        fileHtml = `
                        <div style="margin-top:15px; text-align: right;">
                            <strong style="color:#ccc; font-size:1rem; display:block; margin-bottom:8px;">Ø§Ù„Ù…Ø±ÙÙ‚ (ØµÙˆØ±Ø©):</strong>
                            <img src="${app.file.data}" alt="Ù…Ø±ÙÙ‚" style="max-width: 100%; max-height: 250px; border-radius: 8px; border: 1px solid var(--cyan); cursor: zoom-in; object-fit: cover; box-shadow: 0 5px 15px rgba(0,0,0,0.5);" onclick="openImgZoom('${app.file.data}')" title="Ø§Ø¶ØºØ· Ù„ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙˆØ±Ø©">
                        </div>`;
                    } else {
                        fileHtml = `<div style="margin-top:15px;"><a href="${app.file.data}" download="${app.file.name}" style="color:var(--cyan); text-decoration:none; border:1px solid var(--cyan); padding:8px 15px; border-radius:4px; display:inline-flex; align-items:center; gap:10px; transition:0.3s;" onmouseover="this.style.background='var(--cyan)'; this.style.color='#000';" onmouseout="this.style.background='transparent'; this.style.color='var(--cyan)';"><i class="fa-solid fa-paperclip"></i> ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø±ÙÙ‚ (${app.file.name})</a></div>`;
                    }
                }

                container.innerHTML += `
                <div class="allow-select" style="background:rgba(20,26,40,0.6); border:1px solid var(--btn-border); border-radius:8px; padding:20px; margin-bottom:15px; position:relative; text-align:right; backdrop-filter: blur(5px);">
                    ${delBtn}
                    <h3 style="color:var(--cyan); margin-bottom:5px; font-size:1.4rem;">${app.name} <span style="font-size:0.9rem; color:#888;">(Ø§Ù„Ø¹Ù…Ø±: ${app.age})</span></h3>
                    <div style="color:#aaa; font-size:0.85rem; margin-bottom:15px;">${appTypeTitle}</div>
                    <div style="color:#ccc; font-size:1rem; margin-bottom:8px;"><strong><i class="fa-brands fa-discord" style="color:#5865F2;"></i> Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯:</strong> ${app.discord}</div>
                    <div style="color:#ccc; font-size:1rem; margin-bottom:8px; line-height:1.6;"><strong>Ø§Ù„Ø®Ø¨Ø±Ø§Øª/Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª:</strong><br>${app.exp || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯'}</div>
                    <div style="color:#ccc; font-size:1rem; margin-bottom:15px; line-height:1.6;"><strong>Ø§Ù„Ø³Ø¨Ø¨:</strong><br>${app.reason || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯'}</div>
                    ${fileHtml}
                    <div style="display:flex; justify-content:space-between; align-items:center; border-top:1px solid rgba(255,255,255,0.05); padding-top:15px; flex-direction: row-reverse; margin-top:15px;">
                        <div>${statusHtml}</div>
                        <div style="color:#666; font-size:0.85rem;">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…: ${app.date}</div>
                    </div>
                </div>`;
            });
        }

        function updateAppStatus(idx, newStatus) { if(!db.applications[idx]) return; db.applications[idx].status = newStatus; saveDB(); }
        function deleteApp(idx) { if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¨Ø´ÙƒÙ„ Ù†Ù‡Ø§Ø¦ÙŠØŸ")) { db.applications.splice(idx, 1); saveDB(); } }

        function renderAccounts() {
            const list = document.getElementById('mList'); if(!list) return; list.innerHTML = '';
            let configU = (typeof ConfigUsers !== 'undefined') ? ConfigUsers : [];
            configU.forEach((u) => { let rankColor = configOfficers.includes(u.rank) ? 'var(--cyan)' : 'var(--text-muted)'; list.innerHTML += `<div class="rec-item allow-select" style="align-items: center;"><div style="flex:1; text-align:right;"><div style="font-size:1.1rem; font-weight:bold; margin-bottom:4px;"><span style="color:${rankColor}">[${u.rank}]</span> ${u.name} <span style="font-size:0.65rem; background:#111; padding:2px 6px; border-radius:4px; color:#888; border:1px solid #333;">Ø£Ø³Ø§Ø³ÙŠ</span></div><div style="font-size:0.85rem; color:#888; cursor:pointer; display:inline-block; border:1px solid #333; padding:2px 8px; border-radius:4px;" onclick="showCustomAlert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„', 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${u.user}\\nÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ${u.pass}')">ğŸ‘ï¸ Ø¥Ø¸Ù‡Ø§Ø± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„</div></div></div>`; });
            let users = db.customUsers || [];
            users.forEach((u, idx) => { let uRankIdx = SystemRanks.indexOf(u.rank); let rankColor = configOfficers.includes(u.rank) ? 'var(--cyan)' : 'var(--text-muted)'; const del = (canManageAccounts && myRankIdx < uRankIdx) ? `<i class="fa-solid fa-trash action-icon icon-del" onclick="delAccount(${idx})" title="Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨"></i>` : ''; list.innerHTML += `<div class="rec-item allow-select" style="align-items: center;">${del}<div style="flex:1; text-align:right;"><div style="font-size:1.1rem; font-weight:bold; margin-bottom:4px;"><span style="color:${rankColor}">[${u.rank}]</span> ${u.name}</div><div style="font-size:0.85rem; color:#888; cursor:pointer; display:inline-block; border:1px solid #333; padding:2px 8px; border-radius:4px;" onclick="showCustomAlert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„', 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${u.user}\\nÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ${u.pass}')">ğŸ‘ï¸ Ø¥Ø¸Ù‡Ø§Ø± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„</div></div></div>`; });
        }

        function renderRecords() {
            const list = document.getElementById('mList'); if(!list) return; list.innerHTML = '';
            db[currentModule.id].forEach((rec, idx) => { const del = (canManageAccounts || isHighCommand) ? `<i class="fa-solid fa-trash action-icon icon-del" onclick="delRec(${idx})"></i>` : ''; list.innerHTML += `<div class="rec-item allow-select" style="align-items: center;">${del}<div style="flex:1; text-align:right;">${rec}</div></div>`; });
        }

        function addRecord() {
            if(currentModule.isAccountsForm) {
                if(!canManageAccounts) return; 
                const u = document.getElementById('o-user').value.trim(), p = document.getElementById('o-pass').value.trim(), n = document.getElementById('o-name').value.trim(), r = document.getElementById('o-rank').value;
                if(!u || !p || !n || !r) return showCustomAlert("ØªÙ†Ø¨ÙŠÙ‡", i18n[currentLang]['o_err']);
                let configU = (typeof ConfigUsers !== 'undefined') ? ConfigUsers : []; db.customUsers = db.customUsers || []; 
                if(configU.some(x => x.user === u) || db.customUsers.some(x => x.user === u)) return showCustomAlert("ØªÙ†Ø¨ÙŠÙ‡", i18n[currentLang]['o_exists']);
                db.customUsers.push({ user: u, pass: p, name: n, rank: r }); saveDB(); showCustomAlert("Ù†Ø¬Ø§Ø­", "ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­!"); ['o-user','o-pass','o-name','o-rank'].forEach(id => document.getElementById(id).value = ''); 
            } else if(currentModule.isTable) {
                const assignee = document.getElementById('t-assignee').value.trim(); const officer = document.getElementById('t-officer').value.trim();
                const reason = document.getElementById('t-reason').value.trim(); const pts = document.getElementById('t-pts').value.trim();
                if(!assignee || !officer || !reason || !pts) return showCustomAlert("ØªÙ†Ø¨ÙŠÙ‡", "ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„!");
                db.tasks = db.tasks || []; db.tasks.push({ assignee, officer, reason, pts, approved: false });
                saveDB(); showCustomAlert("Ù†Ø¬Ø§Ø­", "ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­!"); ['t-assignee','t-officer','t-reason','t-pts'].forEach(id => document.getElementById(id).value = '');
            } else if(currentModule.isVideo) {
                const title = document.getElementById('v-title').value.trim(); const yt = document.getElementById('v-yt').value.trim(); const fileInput = document.getElementById('v-file');
                if(!title) return showCustomAlert("ØªÙ†Ø¨ÙŠÙ‡", "ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ!");
                if(!yt && (!fileInput.files || !fileInput.files[0])) return showCustomAlert("ØªÙ†Ø¨ÙŠÙ‡", "ÙŠØ±Ø¬Ù‰ ÙˆØ¶Ø¹ Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨ Ø£Ùˆ Ø¥Ø±ÙØ§Ù‚ Ù…Ù„Ù!");
                if(fileInput.files && fileInput.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) { db.video = db.video || []; db.video.push({ title: title, file: e.target.result }); saveDB(); showCustomAlert("Ù†Ø¬Ø§Ø­", "ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­"); document.getElementById('v-title').value = ''; document.getElementById('v-file').value = ''; document.getElementById('v-file-name').innerText = 'Ø£Ùˆ Ù…Ù„Ù'; };
                    reader.readAsDataURL(fileInput.files[0]);
                } else { db.video = db.video || []; db.video.push({ title: title, yt: yt }); saveDB(); showCustomAlert("Ù†Ø¬Ø§Ø­", "ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­"); document.getElementById('v-title').value = ''; document.getElementById('v-yt').value = ''; }
            } else if(currentModule.isReportForm) {
                const badge = document.getElementById('r-badge').value.trim(); const name = document.getElementById('r-name').value.trim(); const crim = document.getElementById('r-crim').value.trim(); const details = document.getElementById('r-details').value.trim();
                if(!badge || !name || !crim || !details) return showCustomAlert("ØªÙ†Ø¨ÙŠÙ‡", "ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„!");
                const fileInput = document.getElementById('r-image');
                let reportStr = `<div style="font-weight:bold; color:var(--cyan); margin-bottom:5px;">ØªÙ‚Ø±ÙŠØ±: ${crim}</div><div style="color:#aaa; font-size:0.85rem; margin-bottom:10px;">Ø¨ÙˆØ§Ø³Ø·Ø©: [${badge}] ${name}</div><div style="line-height:1.6; color:#ddd;">${details}</div>`;
                if(fileInput.files && fileInput.files.length > 0) {
                    const reader = new FileReader();
                    reader.onload = function(e) { reportStr += `<div style="margin-top:10px;"><img src="${e.target.result}" style="width:100px; border-radius:4px; cursor:zoom-in; border:1px solid var(--cyan);" onclick="openImgZoom('${e.target.result}')"></div>`; db.reports = db.reports || []; db.reports.push(reportStr); saveDB(); showCustomAlert("Ù†Ø¬Ø§Ø­", "ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­"); ['r-badge','r-name','r-crim','r-details'].forEach(id => document.getElementById(id).value = ''); fileInput.value=''; document.getElementById('file-count').innerText='Ø¥Ø±ÙØ§Ù‚ Ù…Ù„ÙØ§Øª'; }
                    reader.readAsDataURL(fileInput.files[0]);
                } else { db.reports = db.reports || []; db.reports.push(reportStr); saveDB(); showCustomAlert("Ù†Ø¬Ø§Ø­", "ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­"); ['r-badge','r-name','r-crim','r-details'].forEach(id => document.getElementById(id).value = ''); }
            } else {
                let vals = [], empty = false; const arr = currentLang === 'ar' ? currentModule.inputsAr : currentModule.inputsEn; if(!arr) return;
                arr.forEach((_, i) => { const v = document.getElementById(`inp-${i}`).value.trim(); if(!v) empty = true; vals.push(v); }); 
                if(empty) return showCustomAlert("ØªÙ†Ø¨ÙŠÙ‡", "ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„!");
                db[currentModule.id] = db[currentModule.id] || [];
                if(currentModule.hasImage) {
                    const fileInput = document.getElementById('inp-image'); 
                    if(fileInput && fileInput.files && fileInput.files[0]) {
                        const reader = new FileReader();
                        reader.onload = function(e) { let textHtml = ''; vals.forEach((v, i) => { if(i === 0) textHtml += `<div style="font-weight:800; font-size:1.1rem; color:var(--cyan); margin-bottom:5px;">${v}</div>`; else textHtml += `<div style="font-size:0.85rem; color:#bbb; margin-bottom:2px;">â€¢ ${v}</div>`; }); const imgHtml = `<img src="${e.target.result}" class="clickable-img" style="width:70px; height:70px; object-fit:cover; border-radius:4px; border: 1px solid rgba(255,255,255,0.1); cursor:zoom-in;" onclick="openImgZoom('${e.target.result}')">`; db[currentModule.id].push(`<div style="display:flex; align-items:flex-start; padding:5px;">${imgHtml} <div style="margin-inline-start:15px; flex:1; display:flex; flex-direction:column; justify-content:center;">${textHtml}</div></div>`); arr.forEach((_, i) => document.getElementById(`inp-${i}`).value = ''); fileInput.value = ''; if(document.getElementById('img-file-name')) { document.getElementById('img-file-name').innerText = 'Ø¥Ø±ÙØ§Ù‚ ØµÙˆØ±Ø©'; document.getElementById('img-file-name').style.color = '#666';} saveDB(); showCustomAlert("Ù†Ø¬Ø§Ø­", "ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­"); }; reader.readAsDataURL(fileInput.files[0]);
                    } else { return showCustomAlert("ØªÙ†Ø¨ÙŠÙ‡", "ÙŠØ±Ø¬Ù‰ Ø¥Ø±ÙØ§Ù‚ ØµÙˆØ±Ø©!"); }
                } else { db[currentModule.id].push(vals.join(' | ')); arr.forEach((_, i) => document.getElementById(`inp-${i}`).value = ''); saveDB(); showCustomAlert("Ù†Ø¬Ø§Ø­", "ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­"); }
            }
        }

        function delAccount(idx) { db.customUsers.splice(idx, 1); saveDB(); }
        function delRec(idx) { db[currentModule.id].splice(idx, 1); saveDB(); }
        function approveTask(idx) { if(!isHighCommand) return; db.tasks[idx].approved = true; saveDB(); }

        function showCustomAlert(title, message) { document.getElementById('alertTitle').innerText = title; document.getElementById('alertMessage').innerText = message; document.getElementById('customAlertOverlay').style.display = 'flex'; }
        
        function openAppModal() { if(db.settings && db.settings.policeOpen === false) { showCustomAlert("Ø¹Ø°Ø±Ø§Ù‹", "Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ù„Ø´Ø±Ø·Ø© ØªØ§ÙŠØªÙ†Ø² Ù…ØºÙ„Ù‚ Ø­Ø§Ù„ÙŠØ§Ù‹ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©."); return; } document.getElementById('appModal').style.display = 'flex'; }
        function closeAppModal() { document.getElementById('appModal').style.display = 'none'; }
        function openSelfAppModal() { if(db.settings && db.settings.selfOpen === false) { showCustomAlert("Ø¹Ø°Ø±Ø§Ù‹", "Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ù„Ù‚Ø¯Ù… Ù†ÙØ³Ùƒ Ù…ØºÙ„Ù‚ Ø­Ø§Ù„ÙŠØ§Ù‹ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©."); return; } document.getElementById('selfAppModal').style.display = 'flex'; }
        function closeSelfAppModal() { document.getElementById('selfAppModal').style.display = 'none'; document.getElementById('self-file-name').innerText = 'Ø¥Ø±ÙØ§Ù‚ ØµÙˆØ±Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)'; document.getElementById('self-file-name').style.color = '#888'; }

        function submitApplication() { const n = document.getElementById('appName').value.trim(); const d = document.getElementById('appDiscord').value.trim(); const a = document.getElementById('appAge').value.trim(); const exp = document.getElementById('appExp').value.trim(); const reason = document.getElementById('appReason').value.trim(); if(!n || !d || !a) { showCustomAlert("Ø®Ø·Ø£", "ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ØŒ Ø§Ù„Ø¹Ù…Ø±)!"); return; } db.applications.push({ type: 'police', name: n, discord: d, age: a, exp: exp, reason: reason, date: new Date().toLocaleDateString(), status: 'pending' }); saveDB(); closeAppModal(); showCustomAlert("Ø§ÙƒØªÙ…Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…", "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªÙ‚Ø¯ÙŠÙ…Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØªÙ… Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹."); ['appName','appDiscord','appAge','appExp','appReason'].forEach(id => document.getElementById(id).value = ''); }
        function submitSelfApplication() { const n = document.getElementById('selfName').value.trim(); const d = document.getElementById('selfDiscord').value.trim(); const a = document.getElementById('selfAge').value.trim(); const exp = document.getElementById('selfExp').value.trim(); const reason = document.getElementById('selfReason').value.trim(); const fileInput = document.getElementById('selfFile'); if(!n || !d || !a) { showCustomAlert("Ø®Ø·Ø£", "ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ØŒ Ø§Ù„Ø¹Ù…Ø±)!"); return; } let fileData = null; if (fileInput.files && fileInput.files[0]) { const reader = new FileReader(); reader.onload = function(e) { fileData = { name: fileInput.files[0].name, data: e.target.result }; saveSelfApp(n, d, a, exp, reason, fileData); }; reader.readAsDataURL(fileInput.files[0]); } else { saveSelfApp(n, d, a, exp, reason, null); } }
        function saveSelfApp(n, d, a, exp, reason, fileData) { db.applications.push({ type: 'self', name: n, discord: d, age: a, exp: exp, reason: reason, file: fileData, date: new Date().toLocaleDateString(), status: 'pending' }); saveDB(); closeSelfAppModal(); showCustomAlert("Ø§ÙƒØªÙ…Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…", "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªÙ‚Ø¯ÙŠÙ…Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØªÙ… Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡ Ù‚Ø±ÙŠØ¨Ø§Ù‹."); ['selfName','selfDiscord','selfAge','selfExp','selfReason'].forEach(id => document.getElementById(id).value = ''); document.getElementById('selfFile').value = ''; }
        
        function switchPublicTab(tabId, el) { document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active')); if(el) el.classList.add('active'); if (tabId === 'home' && document.getElementById('homeTab').style.display === 'flex') { window.scrollTo({ top: 0, behavior: 'smooth' }); return; } document.getElementById('homeTab').style.display = 'none'; document.getElementById('rulesTab').style.display = 'none'; document.getElementById('jobsTab').style.display = 'none'; document.getElementById('foundersTab').style.display = 'none'; document.getElementById(tabId + 'Tab').style.display = 'flex'; window.scrollTo({ top: 0, behavior: 'auto' }); }
        function toggleAccordion(element) { const item = element.parentElement; const content = item.querySelector('.accordion-content'); const isActive = item.classList.contains('active'); document.querySelectorAll('.accordion-item').forEach(otherItem => { otherItem.classList.remove('active'); otherItem.querySelector('.accordion-content').style.maxHeight = null; otherItem.querySelector('.acc-icon').innerText = '+'; }); if (!isActive) { item.classList.add('active'); content.style.maxHeight = content.scrollHeight + "px"; element.querySelector('.acc-icon').innerText = '-'; } }
        function openLoginScreen() { document.getElementById('publicSite').style.opacity = '0'; setTimeout(() => { document.getElementById('publicSite').style.display = 'none'; const login = document.getElementById('loginScreen'); login.style.display = 'flex'; setTimeout(() => login.style.opacity = '1', 20); }, 150); }
        function closeLoginScreen() { const login = document.getElementById('loginScreen'); login.style.opacity = '0'; setTimeout(() => { login.style.display = 'none'; document.getElementById('publicSite').style.display = 'flex'; setTimeout(() => document.getElementById('publicSite').style.opacity = '1', 20); }, 150); }
        function openImgZoom(src) { document.getElementById('zoomedImg').src = src; document.getElementById('imgZoomOverlay').style.display = 'flex'; setTimeout(() => document.getElementById('imgZoomOverlay').classList.add('active'), 10); }
        function closeImgZoom() { document.getElementById('imgZoomOverlay').classList.remove('active'); setTimeout(() => document.getElementById('imgZoomOverlay').style.display = 'none', 200); }
        function doCrypto(type) { const v = document.getElementById('cryIn').value, out = document.getElementById('cryOut'); if(!v) return; try { out.innerText = (type === 'enc') ? btoa(unescape(encodeURIComponent(v))) : decodeURIComponent(escape(atob(v))); } catch(e) { out.innerText = "Error"; } }
        function copyCrypto() { navigator.clipboard.writeText(document.getElementById('cryOut').innerText); }
    </script>
</body>
</html>
